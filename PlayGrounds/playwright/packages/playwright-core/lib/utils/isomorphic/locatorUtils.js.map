{"version":3,"file":"locatorUtils.js","names":["_stringUtils","require","getByAttributeTextSelector","attrName","text","options","escapeForAttributeSelector","exact","getByTestIdSelector","testIdAttributeName","testId","getByLabelSelector","escapeForTextSelector","getByAltTextSelector","getByTitleSelector","getByPlaceholderSelector","getByTextSelector","getByRoleSelector","role","props","checked","undefined","push","String","disabled","selected","expanded","includeHidden","level","name","pressed","map","n","v","join"],"sources":["../../../src/utils/isomorphic/locatorUtils.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { escapeForAttributeSelector, escapeForTextSelector } from './stringUtils';\n\nexport type ByRoleOptions = {\n  checked?: boolean;\n  disabled?: boolean;\n  exact?: boolean;\n  expanded?: boolean;\n  includeHidden?: boolean;\n  level?: number;\n  name?: string | RegExp;\n  pressed?: boolean;\n  selected?: boolean;\n};\n\nfunction getByAttributeTextSelector(attrName: string, text: string | RegExp, options?: { exact?: boolean }): string {\n  return `internal:attr=[${attrName}=${escapeForAttributeSelector(text, options?.exact || false)}]`;\n}\n\nexport function getByTestIdSelector(testIdAttributeName: string, testId: string | RegExp): string {\n  return `internal:testid=[${testIdAttributeName}=${escapeForAttributeSelector(testId, true)}]`;\n}\n\nexport function getByLabelSelector(text: string | RegExp, options?: { exact?: boolean }): string {\n  return 'internal:label=' + escapeForTextSelector(text, !!options?.exact);\n}\n\nexport function getByAltTextSelector(text: string | RegExp, options?: { exact?: boolean }): string {\n  return getByAttributeTextSelector('alt', text, options);\n}\n\nexport function getByTitleSelector(text: string | RegExp, options?: { exact?: boolean }): string {\n  return getByAttributeTextSelector('title', text, options);\n}\n\nexport function getByPlaceholderSelector(text: string | RegExp, options?: { exact?: boolean }): string {\n  return getByAttributeTextSelector('placeholder', text, options);\n}\n\nexport function getByTextSelector(text: string | RegExp, options?: { exact?: boolean }): string {\n  return 'internal:text=' + escapeForTextSelector(text, !!options?.exact);\n}\n\nexport function getByRoleSelector(role: string, options: ByRoleOptions = {}): string {\n  const props: string[][] = [];\n  if (options.checked !== undefined)\n    props.push(['checked', String(options.checked)]);\n  if (options.disabled !== undefined)\n    props.push(['disabled', String(options.disabled)]);\n  if (options.selected !== undefined)\n    props.push(['selected', String(options.selected)]);\n  if (options.expanded !== undefined)\n    props.push(['expanded', String(options.expanded)]);\n  if (options.includeHidden !== undefined)\n    props.push(['include-hidden', String(options.includeHidden)]);\n  if (options.level !== undefined)\n    props.push(['level', String(options.level)]);\n  if (options.name !== undefined)\n    props.push(['name', escapeForAttributeSelector(options.name, !!options.exact)]);\n  if (options.pressed !== undefined)\n    props.push(['pressed', String(options.pressed)]);\n  return `internal:role=${role}${props.map(([n, v]) => `[${n}=${v}]`).join('')}`;\n}\n"],"mappings":"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","ignoreList":[]}