{"version":3,"file":"headers.js","names":["headersObjectToArray","headers","separator","setCookieSeparator","result","name","values","undefined","sep","toLowerCase","value","split","push","trim","headersArrayToObject","lowerCase"],"sources":["../../src/utils/headers.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ntype HeadersArray = { name: string, value: string }[];\ntype HeadersObject = { [key: string]: string };\n\nexport function headersObjectToArray(headers: HeadersObject, separator?: string, setCookieSeparator?: string): HeadersArray {\n  if (!setCookieSeparator)\n    setCookieSeparator = separator;\n  const result: HeadersArray = [];\n  for (const name in headers) {\n    const values = headers[name];\n    if (values === undefined)\n      continue;\n    if (separator) {\n      const sep = name.toLowerCase() === 'set-cookie' ? setCookieSeparator : separator;\n      for (const value of values.split(sep!))\n        result.push({ name, value: value.trim() });\n    } else {\n      result.push({ name, value: values });\n    }\n  }\n  return result;\n}\n\nexport function headersArrayToObject(headers: HeadersArray, lowerCase: boolean): HeadersObject {\n  const result: HeadersObject = {};\n  for (const { name, value } of headers)\n    result[lowerCase ? name.toLowerCase() : name] = value;\n  return result;\n}\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASA,oBAAoBA,CAACC,OAAsB,EAAEC,SAAkB,EAAEC,kBAA2B,EAAgB;EAC1H,IAAI,CAACA,kBAAkB,EACrBA,kBAAkB,GAAGD,SAAS;EAChC,MAAME,MAAoB,GAAG,EAAE;EAC/B,KAAK,MAAMC,IAAI,IAAIJ,OAAO,EAAE;IAC1B,MAAMK,MAAM,GAAGL,OAAO,CAACI,IAAI,CAAC;IAC5B,IAAIC,MAAM,KAAKC,SAAS,EACtB;IACF,IAAIL,SAAS,EAAE;MACb,MAAMM,GAAG,GAAGH,IAAI,CAACI,WAAW,CAAC,CAAC,KAAK,YAAY,GAAGN,kBAAkB,GAAGD,SAAS;MAChF,KAAK,MAAMQ,KAAK,IAAIJ,MAAM,CAACK,KAAK,CAACH,GAAI,CAAC,EACpCJ,MAAM,CAACQ,IAAI,CAAC;QAAEP,IAAI;QAAEK,KAAK,EAAEA,KAAK,CAACG,IAAI,CAAC;MAAE,CAAC,CAAC;IAC9C,CAAC,MAAM;MACLT,MAAM,CAACQ,IAAI,CAAC;QAAEP,IAAI;QAAEK,KAAK,EAAEJ;MAAO,CAAC,CAAC;IACtC;EACF;EACA,OAAOF,MAAM;AACf;AAEO,SAASU,oBAAoBA,CAACb,OAAqB,EAAEc,SAAkB,EAAiB;EAC7F,MAAMX,MAAqB,GAAG,CAAC,CAAC;EAChC,KAAK,MAAM;IAAEC,IAAI;IAAEK;EAAM,CAAC,IAAIT,OAAO,EACnCG,MAAM,CAACW,SAAS,GAAGV,IAAI,CAACI,WAAW,CAAC,CAAC,GAAGJ,IAAI,CAAC,GAAGK,KAAK;EACvD,OAAON,MAAM;AACf","ignoreList":[]}