{"version":3,"file":"debug.js","names":["_env","require","assert","value","message","Error","debugAssert","isUnderTest","debugEnv","getFromENV","debugMode","_isUnderTest","process","env","PWTEST_UNDER_TEST","setUnderTest"],"sources":["../../src/utils/debug.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getFromENV } from './env';\n\nexport function assert(value: any, message?: string): asserts value {\n  if (!value)\n    throw new Error(message || 'Assertion error');\n}\n\nexport function debugAssert(value: any, message?: string): asserts value {\n  if (isUnderTest() && !value)\n    throw new Error(message);\n}\n\nconst debugEnv = getFromENV('PWDEBUG') || '';\nexport function debugMode() {\n  if (debugEnv === 'console')\n    return 'console';\n  if (debugEnv === '0' || debugEnv === 'false')\n    return '';\n  return debugEnv ? 'inspector' : '';\n}\n\nlet _isUnderTest = !!process.env.PWTEST_UNDER_TEST;\nexport function setUnderTest() {\n  _isUnderTest = true;\n}\n\nexport function isUnderTest(): boolean {\n  return _isUnderTest;\n}\n"],"mappings":";;;;;;;;;;AAgBA,IAAAA,IAAA,GAAAC,OAAA;AAhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIO,SAASC,MAAMA,CAACC,KAAU,EAAEC,OAAgB,EAAiB;EAClE,IAAI,CAACD,KAAK,EACR,MAAM,IAAIE,KAAK,CAACD,OAAO,IAAI,iBAAiB,CAAC;AACjD;AAEO,SAASE,WAAWA,CAACH,KAAU,EAAEC,OAAgB,EAAiB;EACvE,IAAIG,WAAW,CAAC,CAAC,IAAI,CAACJ,KAAK,EACzB,MAAM,IAAIE,KAAK,CAACD,OAAO,CAAC;AAC5B;AAEA,MAAMI,QAAQ,GAAG,IAAAC,eAAU,EAAC,SAAS,CAAC,IAAI,EAAE;AACrC,SAASC,SAASA,CAAA,EAAG;EAC1B,IAAIF,QAAQ,KAAK,SAAS,EACxB,OAAO,SAAS;EAClB,IAAIA,QAAQ,KAAK,GAAG,IAAIA,QAAQ,KAAK,OAAO,EAC1C,OAAO,EAAE;EACX,OAAOA,QAAQ,GAAG,WAAW,GAAG,EAAE;AACpC;AAEA,IAAIG,YAAY,GAAG,CAAC,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAC3C,SAASC,YAAYA,CAAA,EAAG;EAC7BJ,YAAY,GAAG,IAAI;AACrB;AAEO,SAASJ,WAAWA,CAAA,EAAY;EACrC,OAAOI,YAAY;AACrB","ignoreList":[]}