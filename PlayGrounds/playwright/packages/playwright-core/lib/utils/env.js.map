{"version":3,"file":"env.js","names":["getFromENV","name","value","process","env","undefined","toLowerCase","getAsBooleanFromENV","defaultValue","getPackageManager","npm_config_user_agent","includes","getPackageManagerExecCommand","packageManager"],"sources":["../../src/utils/env.ts"],"sourcesContent":["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function getFromENV(name: string): string | undefined {\n  let value = process.env[name];\n  value = value === undefined ? process.env[`npm_config_${name.toLowerCase()}`] : value;\n  value = value === undefined ?  process.env[`npm_package_config_${name.toLowerCase()}`] : value;\n  return value;\n}\n\nexport function getAsBooleanFromENV(name: string, defaultValue?: boolean | undefined): boolean {\n  const value = getFromENV(name);\n  if (value === 'false' || value === '0')\n    return false;\n  if (value)\n    return true;\n  return !!defaultValue;\n}\n\nexport function getPackageManager() {\n  const env = process.env.npm_config_user_agent || '';\n  if (env.includes('yarn'))\n    return 'yarn';\n  if (env.includes('pnpm'))\n    return 'pnpm';\n  return 'npm';\n}\n\nexport function getPackageManagerExecCommand() {\n  const packageManager = getPackageManager();\n  if (packageManager === 'yarn')\n    return 'yarn';\n  if (packageManager === 'pnpm')\n    return 'pnpm exec';\n  return 'npx';\n}\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASA,UAAUA,CAACC,IAAY,EAAsB;EAC3D,IAAIC,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EAC7BC,KAAK,GAAGA,KAAK,KAAKG,SAAS,GAAGF,OAAO,CAACC,GAAG,CAAC,cAAcH,IAAI,CAACK,WAAW,CAAC,CAAC,EAAE,CAAC,GAAGJ,KAAK;EACrFA,KAAK,GAAGA,KAAK,KAAKG,SAAS,GAAIF,OAAO,CAACC,GAAG,CAAC,sBAAsBH,IAAI,CAACK,WAAW,CAAC,CAAC,EAAE,CAAC,GAAGJ,KAAK;EAC9F,OAAOA,KAAK;AACd;AAEO,SAASK,mBAAmBA,CAACN,IAAY,EAAEO,YAAkC,EAAW;EAC7F,MAAMN,KAAK,GAAGF,UAAU,CAACC,IAAI,CAAC;EAC9B,IAAIC,KAAK,KAAK,OAAO,IAAIA,KAAK,KAAK,GAAG,EACpC,OAAO,KAAK;EACd,IAAIA,KAAK,EACP,OAAO,IAAI;EACb,OAAO,CAAC,CAACM,YAAY;AACvB;AAEO,SAASC,iBAAiBA,CAAA,EAAG;EAClC,MAAML,GAAG,GAAGD,OAAO,CAACC,GAAG,CAACM,qBAAqB,IAAI,EAAE;EACnD,IAAIN,GAAG,CAACO,QAAQ,CAAC,MAAM,CAAC,EACtB,OAAO,MAAM;EACf,IAAIP,GAAG,CAACO,QAAQ,CAAC,MAAM,CAAC,EACtB,OAAO,MAAM;EACf,OAAO,KAAK;AACd;AAEO,SAASC,4BAA4BA,CAAA,EAAG;EAC7C,MAAMC,cAAc,GAAGJ,iBAAiB,CAAC,CAAC;EAC1C,IAAII,cAAc,KAAK,MAAM,EAC3B,OAAO,MAAM;EACf,IAAIA,cAAc,KAAK,MAAM,EAC3B,OAAO,WAAW;EACpB,OAAO,KAAK;AACd","ignoreList":[]}