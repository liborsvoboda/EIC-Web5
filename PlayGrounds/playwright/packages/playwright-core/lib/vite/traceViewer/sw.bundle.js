var Fr=Object.defineProperty;var Mr=(n,t,e)=>t in n?Fr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var M=(n,t,e)=>Mr(n,typeof t!="symbol"?t+"":t,e);function Ur(n,t){const e=new Array(t.length).fill(0);return new Array(t.length).fill(0).map((r,s)=>(i,a)=>{e[s]=i/a*t[s]*1e3,n(e.reduce((c,l)=>c+l,0),1e3)})}function Cn(n){return Array.isArray(n)&&typeof n[0]=="string"}function vr(n){return Array.isArray(n)&&Array.isArray(n[0])}class Hr{constructor(t,e,r){M(this,"_snapshots");M(this,"_index");M(this,"snapshotName");M(this,"_resources");M(this,"_snapshot");M(this,"_callId");this._resources=t,this._snapshots=e,this._index=r,this._snapshot=e[r],this._callId=e[r].callId,this.snapshotName=e[r].snapshotName}snapshot(){return this._snapshots[this._index]}viewport(){return this._snapshots[this._index].viewport}render(){const t=(i,a,c,l)=>{if(typeof i=="string"){const h=jr(i);return c==="STYLE"||c==="style"?Vr(h):h}if(!i._string)if(vr(i)){const h=a-i[0][0];if(h>=0&&h<=a){const d=qr(this._snapshots[h]),p=i[0][1];p>=0&&p<d.length&&(i._string=t(d[p],h,c,l))}}else if(Cn(i)){const[h,d,...p]=i,_=h==="NOSCRIPT"?"X-NOSCRIPT":h,g=Object.entries(d||{}),y=[];y.push("<",_);const u="__playwright_current_src__",o=_==="IFRAME"||_==="FRAME",f=_==="A",m=_==="IMG",b=m&&g.some(A=>A[0]===u),x=_==="SOURCE"&&c==="PICTURE"&&(l==null?void 0:l.some(A=>A[0]===u));for(const[A,w]of g){let T=A;o&&A.toLowerCase()==="src"&&(T="__playwright_src__"),m&&A===u&&(T="src"),["src","srcset"].includes(A.toLowerCase())&&(b||x)&&(T="_"+T);let E=w;f&&A.toLowerCase()==="href"?E="link://"+w:(A.toLowerCase()==="href"||A.toLowerCase()==="src"||A===u)&&(E=rt(w)),y.push(" ",T,'="',Br(E),'"')}y.push(">");for(const A of p)y.push(t(A,a,_,g));Wr.has(_)||y.push("</",_,">"),i._string=y.join("")}else i._string="";return i._string},e=this._snapshot;let r=t(e.html,this._index,void 0,void 0);return r?(r=(e.doctype?`<!DOCTYPE ${e.doctype}>`:"")+["<style>*,*::before,*::after { visibility: hidden }</style>",`<script>${Gr(this._callId,this.snapshotName)}<\/script>`].join("")+r,{html:r,pageId:e.pageId,frameId:e.frameId,index:this._index}):{html:"",pageId:e.pageId,frameId:e.frameId,index:this._index}}resourceByUrl(t,e){const r=this._snapshot;let s,i;for(const c of this._resources){if(typeof c._monotonicTime=="number"&&c._monotonicTime>=r.timestamp)break;c.response.status!==304&&c.request.url===t&&c.request.method===e&&(c._frameref===r.frameId?s=c:i=c)}let a=s??i;if(a&&e.toUpperCase()==="GET"){for(const c of r.resourceOverrides)if(t===c.url&&c.sha1){a={...a,response:{...a.response,content:{...a.response.content,_sha1:c.sha1}}};break}}return a}}const Wr=new Set(["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","MENUITEM","META","PARAM","SOURCE","TRACK","WBR"]),On={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Br(n){return n.replace(/[&<>"']/ug,t=>On[t])}function jr(n){return n.replace(/[&<]/ug,t=>On[t])}function qr(n){if(!n._nodes){const t=[],e=r=>{if(typeof r=="string")t.push(r);else if(Cn(r)){const[,,...s]=r;for(const i of s)e(i);t.push(r)}};e(n.html),n._nodes=t}return n._nodes}function Gr(...n){function t(e,...r){const s="Recorded click position in absolute coordinates did not match the center of the clicked element. This is likely due to a difference between the test runner and the trace viewer operating systems.",i=[],a=[],c=[],l=p=>{for(const _ of p.querySelectorAll("[__playwright_scroll_top_]"))i.push(_);for(const _ of p.querySelectorAll("[__playwright_scroll_left_]"))a.push(_);for(const _ of p.querySelectorAll("[__playwright_value_]")){const g=_;g.type!=="file"&&(g.value=g.getAttribute("__playwright_value_")),_.removeAttribute("__playwright_value_")}for(const _ of p.querySelectorAll("[__playwright_checked_]"))_.checked=_.getAttribute("__playwright_checked_")==="true",_.removeAttribute("__playwright_checked_");for(const _ of p.querySelectorAll("[__playwright_selected_]"))_.selected=_.getAttribute("__playwright_selected_")==="true",_.removeAttribute("__playwright_selected_");for(const _ of r)for(const g of p.querySelectorAll(`[__playwright_target__="${_}"]`)){const y=g.style;y.outline="2px solid #006ab1",y.backgroundColor="#6fa8dc7f",c.push(g)}for(const _ of p.querySelectorAll("iframe, frame")){const g=_.getAttribute("__playwright_src__");if(!g)_.setAttribute("src",'data:text/html,<body style="background: #ddd"></body>');else{const y=new URL(e(window.location.href)),u=y.pathname.lastIndexOf("/snapshot/");u!==-1&&(y.pathname=y.pathname.substring(0,u+1)),y.pathname+=g.substring(1),_.setAttribute("src",y.toString())}}{const _=p.querySelector("body[__playwright_custom_elements__]");if(_&&window.customElements){const g=(_.getAttribute("__playwright_custom_elements__")||"").split(",");for(const y of g)window.customElements.define(y,class extends HTMLElement{})}}for(const _ of p.querySelectorAll("template[__playwright_shadow_root_]")){const g=_,y=g.parentElement.attachShadow({mode:"open"});y.appendChild(g.content),g.remove(),l(y)}if("adoptedStyleSheets"in p){const _=[...p.adoptedStyleSheets];for(const g of p.querySelectorAll("template[__playwright_style_sheet_]")){const y=g,u=new CSSStyleSheet;u.replaceSync(y.getAttribute("__playwright_style_sheet_")),_.push(u)}p.adoptedStyleSheets=_}},h=()=>{window.removeEventListener("load",h);for(const _ of i)_.scrollTop=+_.getAttribute("__playwright_scroll_top_"),_.removeAttribute("__playwright_scroll_top_");for(const _ of a)_.scrollLeft=+_.getAttribute("__playwright_scroll_left_"),_.removeAttribute("__playwright_scroll_left_");document.styleSheets[0].disabled=!0;const p=new URL(window.location.href).searchParams;if(p.get("pointX")&&p.get("pointY")){const _=+p.get("pointX"),g=+p.get("pointY"),y=c.length>0,u=document.documentElement?[document.documentElement]:[];for(const o of y?c:u){const f=document.createElement("x-pw-pointer");if(f.style.position="fixed",f.style.backgroundColor="#f44336",f.style.width="20px",f.style.height="20px",f.style.borderRadius="10px",f.style.margin="-10px 0 0 -10px",f.style.zIndex="2147483646",f.style.display="flex",f.style.alignItems="center",f.style.justifyContent="center",y){const m=o.getBoundingClientRect(),b=m.left+m.width/2,x=m.top+m.height/2;if(f.style.left=b+"px",f.style.top=x+"px",Math.abs(b-_)>=10||Math.abs(x-g)>=10){const A=document.createElement("x-pw-pointer-warning");A.textContent="⚠",A.style.fontSize="19px",A.style.color="white",A.style.marginTop="-3.5px",A.style.userSelect="none",f.appendChild(A),f.setAttribute("title",s)}}else f.style.left=_+"px",f.style.top=g+"px";document.documentElement.appendChild(f)}}},d=()=>l(document);window.addEventListener("load",h),window.addEventListener("DOMContentLoaded",d)}return`
(${t.toString()})(${st.toString()}${n.map(e=>`, "${e}"`).join("")})`}const In=["about:","blob:","data:","file:","ftp:","http:","https:","mailto:","sftp:","ws:","wss:"],Pt="http://playwright.bloburl/#";function rt(n){n.startsWith(Pt)&&(n=n.substring(Pt.length));try{const t=new URL(n);if(t.protocol==="javascript:"||t.protocol==="vbscript:")return"javascript:void(0)";const e=t.protocol==="blob:",r=t.protocol==="file:";if(!e&&!r&&In.includes(t.protocol))return n;const s="pw-"+t.protocol.slice(0,t.protocol.length-1);return r||(t.protocol="https:"),t.hostname=t.hostname?`${s}--${t.hostname}`:s,r&&(t.protocol="https:"),t.toString()}catch{return n}}const Yr=/url\(['"]?([\w-]+:)\/\//ig;function Vr(n){return n.replace(Yr,(t,e)=>!(e==="blob:")&&!(e==="file:")&&In.includes(e)?t:t.replace(e+"//",`https://pw-${e.slice(0,-1)}--`))}function st(n){const t=new URL(n);return t.pathname.endsWith("/snapshot.html")?t.searchParams.get("r"):n}class Zr{constructor(t,e){M(this,"_snapshotStorage");M(this,"_resourceLoader");M(this,"_snapshotIds",new Map);this._snapshotStorage=t,this._resourceLoader=e}serveSnapshot(t,e,r){const s=this._snapshot(t.substring(9),e);if(!s)return new Response(null,{status:404});const i=s.render();return this._snapshotIds.set(r,s),new Response(i.html,{status:200,headers:{"Content-Type":"text/html"}})}serveSnapshotInfo(t,e){const r=this._snapshot(t.substring(13),e);return this._respondWithJson(r?{viewport:r.viewport(),url:r.snapshot().frameUrl}:{error:"No snapshot found"})}_snapshot(t,e){const r=e.get("name");return this._snapshotStorage.snapshotByName(t.slice(1),r)}_respondWithJson(t){return new Response(JSON.stringify(t),{status:200,headers:{"Cache-Control":"public, max-age=31536000","Content-Type":"application/json"}})}async serveResource(t,e,r){let s;const i=this._snapshotIds.get(r);for(const g of t)if(s=i==null?void 0:i.resourceByUrl(Kr(g),e),s)break;if(!s)return new Response(null,{status:404});const a=s.response.content._sha1,c=a?await this._resourceLoader(a)||new Blob([]):new Blob([]);let l=s.response.content.mimeType;/^text\/|^application\/(javascript|json)/.test(l)&&!l.includes("charset")&&(l=`${l}; charset=utf-8`);const d=new Headers;d.set("Content-Type",l);for(const{name:g,value:y}of s.response.headers)d.set(g,y);d.delete("Content-Encoding"),d.delete("Access-Control-Allow-Origin"),d.set("Access-Control-Allow-Origin","*"),d.delete("Content-Length"),d.set("Content-Length",String(c.size)),d.set("Cache-Control","public, max-age=31536000");const{status:p}=s.response,_=p===101||p===204||p===205||p===304;return new Response(_?null:c,{headers:d,status:s.response.status,statusText:s.response.statusText})}}function Kr(n){try{const t=new URL(n);return t.hash="",t.toString()}catch{return n}}function Xr(n){const t=new Map,{files:e,stacks:r}=n;for(const s of r){const[i,a]=s;t.set(`call@${i}`,a.map(c=>({file:e[c[0]],line:c[1],column:c[2],function:c[3]})))}return t}function $r(){return{origin:"testRunner",traceUrl:"",startTime:Number.MAX_SAFE_INTEGER,wallTime:Number.MAX_SAFE_INTEGER,endTime:0,browserName:"",options:{deviceScaleFactor:1,isMobile:!1,viewport:{width:1280,height:800}},pages:[],resources:[],actions:[],events:[],errors:[],stdio:[],hasSource:!1}}class Jr{constructor(){M(this,"_resources",[]);M(this,"_frameSnapshots",new Map)}addResource(t){t.request.url=rt(t.request.url),this._resources.push(t)}addFrameSnapshot(t){for(const s of t.resourceOverrides)s.url=rt(s.url);let e=this._frameSnapshots.get(t.frameId);e||(e={raw:[],renderers:[]},this._frameSnapshots.set(t.frameId,e),t.isMainFrame&&this._frameSnapshots.set(t.pageId,e)),e.raw.push(t);const r=new Hr(this._resources,e.raw,e.raw.length-1);return e.renderers.push(r),r}snapshotByName(t,e){const r=this._frameSnapshots.get(t);return r==null?void 0:r.renderers.find(s=>s.snapshotName===e)}snapshotsForTest(){return[...this._frameSnapshots.keys()]}finalize(){this._resources.sort((t,e)=>(t._monotonicTime||0)-(e._monotonicTime||0))}}class Qr{constructor(t,e,r){M(this,"_contextEntry");M(this,"_snapshotStorage");M(this,"_attachments");M(this,"_actionMap",new Map);M(this,"_version");M(this,"_pageEntries",new Map);M(this,"_jsHandles",new Map);M(this,"_consoleObjects",new Map);this._contextEntry=t,this._snapshotStorage=e,this._attachments=r}appendTrace(t){for(const e of t.split(`
`))this._appendEvent(e)}actions(){return[...this._actionMap.values()]}_pageEntry(t){let e=this._pageEntries.get(t);return e||(e={screencastFrames:[]},this._pageEntries.set(t,e),this._contextEntry.pages.push(e)),e}_appendEvent(t){if(!t)return;const e=this._modernize(JSON.parse(t));for(const r of e)this._innerAppendEvent(r)}_innerAppendEvent(t){var r;const e=this._contextEntry;switch(t.type){case"context-options":{this._version=t.version,e.origin=t.origin,e.browserName=t.browserName,e.channel=t.channel,e.title=t.title,e.platform=t.platform,e.wallTime=t.wallTime,e.startTime=t.monotonicTime,e.sdkLanguage=t.sdkLanguage,e.options=t.options,e.testIdAttributeName=t.testIdAttributeName;break}case"screencast-frame":{this._pageEntry(t.pageId).screencastFrames.push(t);break}case"before":{this._actionMap.set(t.callId,{...t,type:"action",endTime:0,log:[]});break}case"input":{const s=this._actionMap.get(t.callId);s.inputSnapshot=t.inputSnapshot,s.point=t.point;break}case"log":{const s=this._actionMap.get(t.callId);if(!s)return;s.log.push({time:t.time,message:t.message});break}case"after":{const s=this._actionMap.get(t.callId);s.afterSnapshot=t.afterSnapshot,s.endTime=t.endTime,s.result=t.result,s.error=t.error,s.attachments=t.attachments,t.point&&(s.point=t.point);for(const i of((r=t.attachments)==null?void 0:r.filter(a=>a.sha1))||[])this._attachments.set(i.sha1,i);break}case"action":{this._actionMap.set(t.callId,{...t,log:[]});break}case"event":{e.events.push(t);break}case"stdout":{e.stdio.push(t);break}case"stderr":{e.stdio.push(t);break}case"error":{e.errors.push(t);break}case"console":{e.events.push(t);break}case"resource-snapshot":this._snapshotStorage.addResource(t.snapshot),e.resources.push(t.snapshot);break;case"frame-snapshot":this._snapshotStorage.addFrameSnapshot(t.snapshot);break}"pageId"in t&&t.pageId&&this._pageEntry(t.pageId),(t.type==="action"||t.type==="before")&&(e.startTime=Math.min(e.startTime,t.startTime)),(t.type==="action"||t.type==="after")&&(e.endTime=Math.max(e.endTime,t.endTime)),t.type==="event"&&(e.startTime=Math.min(e.startTime,t.time),e.endTime=Math.max(e.endTime,t.time)),t.type==="screencast-frame"&&(e.startTime=Math.min(e.startTime,t.timestamp),e.endTime=Math.max(e.endTime,t.timestamp))}_processedContextCreatedEvent(){return this._version!==void 0}_modernize(t){let e=this._version||t.version;if(e===void 0)return[t];const r=7;let s=[t];for(;e<r;++e)s=this[`_modernize_${e}_to_${e+1}`].call(this,s);return s}_modernize_0_to_1(t){for(const e of t)e.type==="action"&&typeof e.metadata.error=="string"&&(e.metadata.error={error:{name:"Error",message:e.metadata.error}});return t}_modernize_1_to_2(t){var e;for(const r of t)r.type!=="frame-snapshot"||!r.snapshot.isMainFrame||(r.snapshot.viewport=((e=this._contextEntry.options)==null?void 0:e.viewport)||{width:1280,height:720});return t}_modernize_2_to_3(t){for(const e of t){if(e.type!=="resource-snapshot"||e.snapshot.request)continue;const r=e.snapshot;e.snapshot={_frameref:r.frameId,request:{url:r.url,method:r.method,headers:r.requestHeaders,postData:r.requestSha1?{_sha1:r.requestSha1}:void 0},response:{status:r.status,headers:r.responseHeaders,content:{mimeType:r.contentType,_sha1:r.responseSha1}},_monotonicTime:r.timestamp}}return t}_modernize_3_to_4(t){const e=[];for(const r of t){const s=this._modernize_event_3_to_4(r);s&&e.push(s)}return e}_modernize_event_3_to_4(t){var r,s,i,a;if(t.type!=="action"&&t.type!=="event")return t;const e=t.metadata;return e.internal||e.method.startsWith("tracing")?null:t.type==="event"?e.method==="__create__"&&e.type==="ConsoleMessage"?{type:"object",class:e.type,guid:e.params.guid,initializer:e.params.initializer}:{type:"event",time:e.startTime,class:e.type,method:e.method,params:e.params,pageId:e.pageId}:{type:"action",callId:e.id,startTime:e.startTime,endTime:e.endTime,apiName:e.apiName||e.type+"."+e.method,class:e.type,method:e.method,params:e.params,wallTime:e.wallTime||Date.now(),log:e.log,beforeSnapshot:(r=e.snapshots.find(c=>c.title==="before"))==null?void 0:r.snapshotName,inputSnapshot:(s=e.snapshots.find(c=>c.title==="input"))==null?void 0:s.snapshotName,afterSnapshot:(i=e.snapshots.find(c=>c.title==="after"))==null?void 0:i.snapshotName,error:(a=e.error)==null?void 0:a.error,result:e.result,point:e.point,pageId:e.pageId}}_modernize_4_to_5(t){const e=[];for(const r of t){const s=this._modernize_event_4_to_5(r);s&&e.push(s)}return e}_modernize_event_4_to_5(t){var e,r;if(t.type==="event"&&t.method==="__create__"&&t.class==="JSHandle"&&this._jsHandles.set(t.params.guid,t.params.initializer),t.type==="object"){if(t.class!=="ConsoleMessage")return null;const s=(e=t.initializer.args)==null?void 0:e.map(i=>{if(i.guid){const a=this._jsHandles.get(i.guid);return{preview:(a==null?void 0:a.preview)||"",value:""}}return{preview:i.preview||"",value:i.value||""}});return this._consoleObjects.set(t.guid,{type:t.initializer.type,text:t.initializer.text,location:t.initializer.location,args:s}),null}if(t.type==="event"&&t.method==="console"){const s=this._consoleObjects.get(((r=t.params.message)==null?void 0:r.guid)||"");return s?{type:"console",time:t.time,pageId:t.pageId,messageType:s.type,text:s.text,args:s.args,location:s.location}:null}return t}_modernize_5_to_6(t){const e=[];for(const r of t)if(e.push(r),!(r.type!=="after"||!r.log.length))for(const s of r.log)e.push({type:"log",callId:r.callId,message:s,time:-1});return e}_modernize_6_to_7(t){const e=[];if(!this._processedContextCreatedEvent()&&t[0].type!=="context-options"){const r={type:"context-options",origin:"testRunner",version:7,browserName:"",options:{},platform:process.platform,wallTime:0,monotonicTime:0,sdkLanguage:"javascript"};e.push(r)}for(const r of t){if(r.type==="context-options"){e.push({...r,monotonicTime:0,origin:"library"});continue}!this._contextEntry.wallTime&&r.type==="before"&&(this._contextEntry.wallTime=r.wallTime),!this._contextEntry.startTime&&r.type==="before"&&(this._contextEntry.startTime=r.startTime),e.push(r)}return e}}class zr{constructor(){M(this,"contextEntries",[]);M(this,"_snapshotStorage");M(this,"_backend");M(this,"_attachments",new Map);M(this,"_resourceToContentType",new Map)}async load(t,e){var c,l;this._backend=t;const r=[];let s=!1;for(const h of await this._backend.entryNames()){const d=h.match(/(.+)\.trace/);d&&r.push(d[1]||""),h.includes("src@")&&(s=!0)}if(!r.length)throw new Error("Cannot find .trace file");this._snapshotStorage=new Jr;const i=r.length*3;let a=0;for(const h of r){const d=$r();d.traceUrl=t.traceURL(),d.hasSource=s;const p=new Qr(d,this._snapshotStorage,this._attachments),_=await this._backend.readText(h+".trace")||"";p.appendTrace(_),e(++a,i);const g=await this._backend.readText(h+".network")||"";if(p.appendTrace(g),e(++a,i),d.actions=p.actions().sort((u,o)=>u.startTime-o.startTime),!t.isLive()){for(const u of d.actions.slice().reverse())if(!u.endTime&&!u.error)for(const o of d.actions)o.parentId===u.callId&&u.endTime<o.endTime&&(u.endTime=o.endTime)}const y=await this._backend.readText(h+".stacks");if(y){const u=Xr(JSON.parse(y));for(const o of d.actions)o.stack=o.stack||u.get(o.callId)}e(++a,i);for(const u of d.resources)(c=u.request.postData)!=null&&c._sha1&&this._resourceToContentType.set(u.request.postData._sha1,Lt(u.request.postData.mimeType)),(l=u.response.content)!=null&&l._sha1&&this._resourceToContentType.set(u.response.content._sha1,Lt(u.response.content.mimeType));this.contextEntries.push(d)}this._snapshotStorage.finalize()}async hasEntry(t){return this._backend.hasEntry(t)}async resourceForSha1(t){const e=await this._backend.readBlob("resources/"+t);if(e)return new Blob([e],{type:this._resourceToContentType.get(t)||"application/octet-stream"})}attachmentForSha1(t){return this._attachments.get(t)}storage(){return this._snapshotStorage}}function Lt(n){const t=n.match(/^(.*);\s*charset=.*$/);return t?t[1]:n}const es=15,F=0,ee=1,ts=2,K=-2,H=-3,Ft=-4,te=-5,X=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Dn=1440,ns=0,rs=4,ss=9,is=5,as=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],os=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],cs=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ls=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],fs=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],us=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=15;function it(){const n=this;let t,e,r,s,i,a;function c(h,d,p,_,g,y,u,o,f,m,b){let x,A,w,T,E,C,S,R,I,O,P,N,D,W,L;O=0,E=p;do r[h[d+O]]++,O++,E--;while(E!==0);if(r[0]==p)return u[0]=-1,o[0]=0,F;for(R=o[0],C=1;C<=re&&r[C]===0;C++);for(S=C,R<C&&(R=C),E=re;E!==0&&r[E]===0;E--);for(w=E,R>E&&(R=E),o[0]=R,W=1<<C;C<E;C++,W<<=1)if((W-=r[C])<0)return H;if((W-=r[E])<0)return H;for(r[E]+=W,a[1]=C=0,O=1,D=2;--E!==0;)a[D]=C+=r[O],D++,O++;E=0,O=0;do(C=h[d+O])!==0&&(b[a[C]++]=E),O++;while(++E<p);for(p=a[w],a[0]=E=0,O=0,T=-1,N=-R,i[0]=0,P=0,L=0;S<=w;S++)for(x=r[S];x--!==0;){for(;S>N+R;){if(T++,N+=R,L=w-N,L=L>R?R:L,(A=1<<(C=S-N))>x+1&&(A-=x+1,D=S,C<L))for(;++C<L&&!((A<<=1)<=r[++D]);)A-=r[D];if(L=1<<C,m[0]+L>Dn)return H;i[T]=P=m[0],m[0]+=L,T!==0?(a[T]=E,s[0]=C,s[1]=R,C=E>>>N-R,s[2]=P-i[T-1]-C,f.set(s,(i[T-1]+C)*3)):u[0]=P}for(s[1]=S-N,O>=p?s[0]=192:b[O]<_?(s[0]=b[O]<256?0:96,s[2]=b[O++]):(s[0]=y[b[O]-_]+16+64,s[2]=g[b[O++]-_]),A=1<<S-N,C=E>>>N;C<L;C+=A)f.set(s,(P+C)*3);for(C=1<<S-1;E&C;C>>>=1)E^=C;for(E^=C,I=(1<<N)-1;(E&I)!=a[T];)T--,N-=R,I=(1<<N)-1}return W!==0&&w!=1?te:F}function l(h){let d;for(t||(t=[],e=[],r=new Int32Array(re+1),s=[],i=new Int32Array(re),a=new Int32Array(re+1)),e.length<h&&(e=[]),d=0;d<h;d++)e[d]=0;for(d=0;d<re+1;d++)r[d]=0;for(d=0;d<3;d++)s[d]=0;i.set(r.subarray(0,re),0),a.set(r.subarray(0,re+1),0)}n.inflate_trees_bits=function(h,d,p,_,g){let y;return l(19),t[0]=0,y=c(h,0,19,19,null,null,p,d,_,t,e),y==H?g.msg="oversubscribed dynamic bit lengths tree":(y==te||d[0]===0)&&(g.msg="incomplete dynamic bit lengths tree",y=H),y},n.inflate_trees_dynamic=function(h,d,p,_,g,y,u,o,f){let m;return l(288),t[0]=0,m=c(p,0,h,257,cs,ls,y,_,o,t,e),m!=F||_[0]===0?(m==H?f.msg="oversubscribed literal/length tree":m!=Ft&&(f.msg="incomplete literal/length tree",m=H),m):(l(288),m=c(p,h,d,0,fs,us,u,g,o,t,e),m!=F||g[0]===0&&h>257?(m==H?f.msg="oversubscribed distance tree":m==te?(f.msg="incomplete distance tree",m=H):m!=Ft&&(f.msg="empty distance tree with lengths",m=H),m):F)}}it.inflate_trees_fixed=function(n,t,e,r){return n[0]=ss,t[0]=is,e[0]=as,r[0]=os,F};const Ne=0,Mt=1,Ut=2,vt=3,Ht=4,Wt=5,Bt=6,Ke=7,jt=8,Pe=9;function ds(){const n=this;let t,e=0,r,s=0,i=0,a=0,c=0,l=0,h=0,d=0,p,_=0,g,y=0;function u(o,f,m,b,x,A,w,T){let E,C,S,R,I,O,P,N,D,W,L,ye,k,ne,U,v;P=T.next_in_index,N=T.avail_in,I=w.bitb,O=w.bitk,D=w.write,W=D<w.read?w.read-D-1:w.end-D,L=X[o],ye=X[f];do{for(;O<20;)N--,I|=(T.read_byte(P++)&255)<<O,O+=8;if(E=I&L,C=m,S=b,v=(S+E)*3,(R=C[v])===0){I>>=C[v+1],O-=C[v+1],w.win[D++]=C[v+2],W--;continue}do{if(I>>=C[v+1],O-=C[v+1],R&16){for(R&=15,k=C[v+2]+(I&X[R]),I>>=R,O-=R;O<15;)N--,I|=(T.read_byte(P++)&255)<<O,O+=8;E=I&ye,C=x,S=A,v=(S+E)*3,R=C[v];do if(I>>=C[v+1],O-=C[v+1],R&16){for(R&=15;O<R;)N--,I|=(T.read_byte(P++)&255)<<O,O+=8;if(ne=C[v+2]+(I&X[R]),I>>=R,O-=R,W-=k,D>=ne)U=D-ne,D-U>0&&2>D-U?(w.win[D++]=w.win[U++],w.win[D++]=w.win[U++],k-=2):(w.win.set(w.win.subarray(U,U+2),D),D+=2,U+=2,k-=2);else{U=D-ne;do U+=w.end;while(U<0);if(R=w.end-U,k>R){if(k-=R,D-U>0&&R>D-U)do w.win[D++]=w.win[U++];while(--R!==0);else w.win.set(w.win.subarray(U,U+R),D),D+=R,U+=R,R=0;U=0}}if(D-U>0&&k>D-U)do w.win[D++]=w.win[U++];while(--k!==0);else w.win.set(w.win.subarray(U,U+k),D),D+=k,U+=k,k=0;break}else if(!(R&64))E+=C[v+2],E+=I&X[R],v=(S+E)*3,R=C[v];else return T.msg="invalid distance code",k=T.avail_in-N,k=O>>3<k?O>>3:k,N+=k,P-=k,O-=k<<3,w.bitb=I,w.bitk=O,T.avail_in=N,T.total_in+=P-T.next_in_index,T.next_in_index=P,w.write=D,H;while(!0);break}if(R&64)return R&32?(k=T.avail_in-N,k=O>>3<k?O>>3:k,N+=k,P-=k,O-=k<<3,w.bitb=I,w.bitk=O,T.avail_in=N,T.total_in+=P-T.next_in_index,T.next_in_index=P,w.write=D,ee):(T.msg="invalid literal/length code",k=T.avail_in-N,k=O>>3<k?O>>3:k,N+=k,P-=k,O-=k<<3,w.bitb=I,w.bitk=O,T.avail_in=N,T.total_in+=P-T.next_in_index,T.next_in_index=P,w.write=D,H);if(E+=C[v+2],E+=I&X[R],v=(S+E)*3,(R=C[v])===0){I>>=C[v+1],O-=C[v+1],w.win[D++]=C[v+2],W--;break}}while(!0)}while(W>=258&&N>=10);return k=T.avail_in-N,k=O>>3<k?O>>3:k,N+=k,P-=k,O-=k<<3,w.bitb=I,w.bitk=O,T.avail_in=N,T.total_in+=P-T.next_in_index,T.next_in_index=P,w.write=D,F}n.init=function(o,f,m,b,x,A){t=Ne,h=o,d=f,p=m,_=b,g=x,y=A,r=null},n.proc=function(o,f,m){let b,x,A,w=0,T=0,E=0,C,S,R,I;for(E=f.next_in_index,C=f.avail_in,w=o.bitb,T=o.bitk,S=o.write,R=S<o.read?o.read-S-1:o.end-S;;)switch(t){case Ne:if(R>=258&&C>=10&&(o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,m=u(h,d,p,_,g,y,o,f),E=f.next_in_index,C=f.avail_in,w=o.bitb,T=o.bitk,S=o.write,R=S<o.read?o.read-S-1:o.end-S,m!=F)){t=m==ee?Ke:Pe;break}i=h,r=p,s=_,t=Mt;case Mt:for(b=i;T<b;){if(C!==0)m=F;else return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);C--,w|=(f.read_byte(E++)&255)<<T,T+=8}if(x=(s+(w&X[b]))*3,w>>>=r[x+1],T-=r[x+1],A=r[x],A===0){a=r[x+2],t=Bt;break}if(A&16){c=A&15,e=r[x+2],t=Ut;break}if(!(A&64)){i=A,s=x/3+r[x+2];break}if(A&32){t=Ke;break}return t=Pe,f.msg="invalid literal/length code",m=H,o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);case Ut:for(b=c;T<b;){if(C!==0)m=F;else return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);C--,w|=(f.read_byte(E++)&255)<<T,T+=8}e+=w&X[b],w>>=b,T-=b,i=d,r=g,s=y,t=vt;case vt:for(b=i;T<b;){if(C!==0)m=F;else return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);C--,w|=(f.read_byte(E++)&255)<<T,T+=8}if(x=(s+(w&X[b]))*3,w>>=r[x+1],T-=r[x+1],A=r[x],A&16){c=A&15,l=r[x+2],t=Ht;break}if(!(A&64)){i=A,s=x/3+r[x+2];break}return t=Pe,f.msg="invalid distance code",m=H,o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);case Ht:for(b=c;T<b;){if(C!==0)m=F;else return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);C--,w|=(f.read_byte(E++)&255)<<T,T+=8}l+=w&X[b],w>>=b,T-=b,t=Wt;case Wt:for(I=S-l;I<0;)I+=o.end;for(;e!==0;){if(R===0&&(S==o.end&&o.read!==0&&(S=0,R=S<o.read?o.read-S-1:o.end-S),R===0&&(o.write=S,m=o.inflate_flush(f,m),S=o.write,R=S<o.read?o.read-S-1:o.end-S,S==o.end&&o.read!==0&&(S=0,R=S<o.read?o.read-S-1:o.end-S),R===0)))return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);o.win[S++]=o.win[I++],R--,I==o.end&&(I=0),e--}t=Ne;break;case Bt:if(R===0&&(S==o.end&&o.read!==0&&(S=0,R=S<o.read?o.read-S-1:o.end-S),R===0&&(o.write=S,m=o.inflate_flush(f,m),S=o.write,R=S<o.read?o.read-S-1:o.end-S,S==o.end&&o.read!==0&&(S=0,R=S<o.read?o.read-S-1:o.end-S),R===0)))return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);m=F,o.win[S++]=a,R--,t=Ne;break;case Ke:if(T>7&&(T-=8,C++,E--),o.write=S,m=o.inflate_flush(f,m),S=o.write,R=S<o.read?o.read-S-1:o.end-S,o.read!=o.write)return o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);t=jt;case jt:return m=ee,o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);case Pe:return m=H,o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m);default:return m=K,o.bitb=w,o.bitk=T,f.avail_in=C,f.total_in+=E-f.next_in_index,f.next_in_index=E,o.write=S,o.inflate_flush(f,m)}},n.free=function(){}}const qt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=0,Xe=1,Gt=2,Yt=3,Vt=4,Zt=5,Le=6,Fe=7,Kt=8,de=9;function _s(n,t){const e=this;let r=me,s=0,i=0,a=0,c;const l=[0],h=[0],d=new ds;let p=0,_=new Int32Array(Dn*3);const g=0,y=new it;e.bitk=0,e.bitb=0,e.win=new Uint8Array(t),e.end=t,e.read=0,e.write=0,e.reset=function(u,o){o&&(o[0]=g),r==Le&&d.free(u),r=me,e.bitk=0,e.bitb=0,e.read=e.write=0},e.reset(n,null),e.inflate_flush=function(u,o){let f,m,b;return m=u.next_out_index,b=e.read,f=(b<=e.write?e.write:e.end)-b,f>u.avail_out&&(f=u.avail_out),f!==0&&o==te&&(o=F),u.avail_out-=f,u.total_out+=f,u.next_out.set(e.win.subarray(b,b+f),m),m+=f,b+=f,b==e.end&&(b=0,e.write==e.end&&(e.write=0),f=e.write-b,f>u.avail_out&&(f=u.avail_out),f!==0&&o==te&&(o=F),u.avail_out-=f,u.total_out+=f,u.next_out.set(e.win.subarray(b,b+f),m),m+=f,b+=f),u.next_out_index=m,e.read=b,o},e.proc=function(u,o){let f,m,b,x,A,w,T,E;for(x=u.next_in_index,A=u.avail_in,m=e.bitb,b=e.bitk,w=e.write,T=w<e.read?e.read-w-1:e.end-w;;){let C,S,R,I,O,P,N,D;switch(r){case me:for(;b<3;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}switch(f=m&7,p=f&1,f>>>1){case 0:m>>>=3,b-=3,f=b&7,m>>>=f,b-=f,r=Xe;break;case 1:C=[],S=[],R=[[]],I=[[]],it.inflate_trees_fixed(C,S,R,I),d.init(C[0],S[0],R[0],0,I[0],0),m>>>=3,b-=3,r=Le;break;case 2:m>>>=3,b-=3,r=Yt;break;case 3:return m>>>=3,b-=3,r=de,u.msg="invalid block type",o=H,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o)}break;case Xe:for(;b<32;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}if((~m>>>16&65535)!=(m&65535))return r=de,u.msg="invalid stored block lengths",o=H,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);s=m&65535,m=b=0,r=s!==0?Gt:p!==0?Fe:me;break;case Gt:if(A===0||T===0&&(w==e.end&&e.read!==0&&(w=0,T=w<e.read?e.read-w-1:e.end-w),T===0&&(e.write=w,o=e.inflate_flush(u,o),w=e.write,T=w<e.read?e.read-w-1:e.end-w,w==e.end&&e.read!==0&&(w=0,T=w<e.read?e.read-w-1:e.end-w),T===0)))return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);if(o=F,f=s,f>A&&(f=A),f>T&&(f=T),e.win.set(u.read_buf(x,f),w),x+=f,A-=f,w+=f,T-=f,(s-=f)!==0)break;r=p!==0?Fe:me;break;case Yt:for(;b<14;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}if(i=f=m&16383,(f&31)>29||(f>>5&31)>29)return r=de,u.msg="too many length or distance symbols",o=H,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);if(f=258+(f&31)+(f>>5&31),!c||c.length<f)c=[];else for(E=0;E<f;E++)c[E]=0;m>>>=14,b-=14,a=0,r=Vt;case Vt:for(;a<4+(i>>>10);){for(;b<3;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}c[qt[a++]]=m&7,m>>>=3,b-=3}for(;a<19;)c[qt[a++]]=0;if(l[0]=7,f=y.inflate_trees_bits(c,l,h,_,u),f!=F)return o=f,o==H&&(c=null,r=de),e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);a=0,r=Zt;case Zt:for(;f=i,!(a>=258+(f&31)+(f>>5&31));){let W,L;for(f=l[0];b<f;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}if(f=_[(h[0]+(m&X[f]))*3+1],L=_[(h[0]+(m&X[f]))*3+2],L<16)m>>>=f,b-=f,c[a++]=L;else{for(E=L==18?7:L-14,W=L==18?11:3;b<f+E;){if(A!==0)o=F;else return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);A--,m|=(u.read_byte(x++)&255)<<b,b+=8}if(m>>>=f,b-=f,W+=m&X[E],m>>>=E,b-=E,E=a,f=i,E+W>258+(f&31)+(f>>5&31)||L==16&&E<1)return c=null,r=de,u.msg="invalid bit length repeat",o=H,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);L=L==16?c[E-1]:0;do c[E++]=L;while(--W!==0);a=E}}if(h[0]=-1,O=[],P=[],N=[],D=[],O[0]=9,P[0]=6,f=i,f=y.inflate_trees_dynamic(257+(f&31),1+(f>>5&31),c,O,P,N,D,_,u),f!=F)return f==H&&(c=null,r=de),o=f,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);d.init(O[0],P[0],_,N[0],_,D[0]),r=Le;case Le:if(e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,(o=d.proc(e,u,o))!=ee)return e.inflate_flush(u,o);if(o=F,d.free(u),x=u.next_in_index,A=u.avail_in,m=e.bitb,b=e.bitk,w=e.write,T=w<e.read?e.read-w-1:e.end-w,p===0){r=me;break}r=Fe;case Fe:if(e.write=w,o=e.inflate_flush(u,o),w=e.write,T=w<e.read?e.read-w-1:e.end-w,e.read!=e.write)return e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);r=Kt;case Kt:return o=ee,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);case de:return o=H,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o);default:return o=K,e.bitb=m,e.bitk=b,u.avail_in=A,u.total_in+=x-u.next_in_index,u.next_in_index=x,e.write=w,e.inflate_flush(u,o)}}},e.free=function(u){e.reset(u,null),e.win=null,_=null},e.set_dictionary=function(u,o,f){e.win.set(u.subarray(o,o+f),0),e.read=e.write=f},e.sync_point=function(){return r==Xe?1:0}}const hs=32,ps=8,ms=0,Xt=1,$t=2,Jt=3,Qt=4,zt=5,$e=6,xe=7,en=12,se=13,ws=[0,0,255,255];function bs(){const n=this;n.mode=0,n.method=0,n.was=[0],n.need=0,n.marker=0,n.wbits=0;function t(e){return!e||!e.istate?K:(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=xe,e.istate.blocks.reset(e,null),F)}n.inflateEnd=function(e){return n.blocks&&n.blocks.free(e),n.blocks=null,F},n.inflateInit=function(e,r){return e.msg=null,n.blocks=null,r<8||r>15?(n.inflateEnd(e),K):(n.wbits=r,e.istate.blocks=new _s(e,1<<r),t(e),F)},n.inflate=function(e,r){let s,i;if(!e||!e.istate||!e.next_in)return K;const a=e.istate;for(r=r==rs?te:F,s=te;;)switch(a.mode){case ms:if(e.avail_in===0)return s;if(s=r,e.avail_in--,e.total_in++,((a.method=e.read_byte(e.next_in_index++))&15)!=ps){a.mode=se,e.msg="unknown compression method",a.marker=5;break}if((a.method>>4)+8>a.wbits){a.mode=se,e.msg="invalid win size",a.marker=5;break}a.mode=Xt;case Xt:if(e.avail_in===0)return s;if(s=r,e.avail_in--,e.total_in++,i=e.read_byte(e.next_in_index++)&255,((a.method<<8)+i)%31!==0){a.mode=se,e.msg="incorrect header check",a.marker=5;break}if(!(i&hs)){a.mode=xe;break}a.mode=$t;case $t:if(e.avail_in===0)return s;s=r,e.avail_in--,e.total_in++,a.need=(e.read_byte(e.next_in_index++)&255)<<24&4278190080,a.mode=Jt;case Jt:if(e.avail_in===0)return s;s=r,e.avail_in--,e.total_in++,a.need+=(e.read_byte(e.next_in_index++)&255)<<16&16711680,a.mode=Qt;case Qt:if(e.avail_in===0)return s;s=r,e.avail_in--,e.total_in++,a.need+=(e.read_byte(e.next_in_index++)&255)<<8&65280,a.mode=zt;case zt:return e.avail_in===0?s:(s=r,e.avail_in--,e.total_in++,a.need+=e.read_byte(e.next_in_index++)&255,a.mode=$e,ts);case $e:return a.mode=se,e.msg="need dictionary",a.marker=0,K;case xe:if(s=a.blocks.proc(e,s),s==H){a.mode=se,a.marker=0;break}if(s==F&&(s=r),s!=ee)return s;s=r,a.blocks.reset(e,a.was),a.mode=en;case en:return e.avail_in=0,ee;case se:return H;default:return K}},n.inflateSetDictionary=function(e,r,s){let i=0,a=s;if(!e||!e.istate||e.istate.mode!=$e)return K;const c=e.istate;return a>=1<<c.wbits&&(a=(1<<c.wbits)-1,i=s-a),c.blocks.set_dictionary(r,i,a),c.mode=xe,F},n.inflateSync=function(e){let r,s,i,a,c;if(!e||!e.istate)return K;const l=e.istate;if(l.mode!=se&&(l.mode=se,l.marker=0),(r=e.avail_in)===0)return te;for(s=e.next_in_index,i=l.marker;r!==0&&i<4;)e.read_byte(s)==ws[i]?i++:e.read_byte(s)!==0?i=0:i=4-i,s++,r--;return e.total_in+=s-e.next_in_index,e.next_in_index=s,e.avail_in=r,l.marker=i,i!=4?H:(a=e.total_in,c=e.total_out,t(e),e.total_in=a,e.total_out=c,l.mode=xe,F)},n.inflateSyncPoint=function(e){return!e||!e.istate||!e.istate.blocks?K:e.istate.blocks.sync_point()}}function kn(){}kn.prototype={inflateInit(n){const t=this;return t.istate=new bs,n||(n=es),t.istate.inflateInit(t,n)},inflate(n){const t=this;return t.istate?t.istate.inflate(t,n):K},inflateEnd(){const n=this;if(!n.istate)return K;const t=n.istate.inflateEnd(n);return n.istate=null,t},inflateSync(){const n=this;return n.istate?n.istate.inflateSync(n):K},inflateSetDictionary(n,t){const e=this;return e.istate?e.istate.inflateSetDictionary(e,n,t):K},read_byte(n){return this.next_in[n]},read_buf(n,t){return this.next_in.subarray(n,n+t)}};function gs(n){const t=this,e=new kn,r=n&&n.chunkSize?Math.floor(n.chunkSize*2):128*1024,s=ns,i=new Uint8Array(r);let a=!1;e.inflateInit(),e.next_out=i,t.append=function(c,l){const h=[];let d,p,_=0,g=0,y=0;if(c.length!==0){e.next_in_index=0,e.next_in=c,e.avail_in=c.length;do{if(e.next_out_index=0,e.avail_out=r,e.avail_in===0&&!a&&(e.next_in_index=0,a=!0),d=e.inflate(s),a&&d===te){if(e.avail_in!==0)throw new Error("inflating: bad input")}else if(d!==F&&d!==ee)throw new Error("inflating: "+e.msg);if((a||d===ee)&&e.avail_in===c.length)throw new Error("inflating: bad input");e.next_out_index&&(e.next_out_index===r?h.push(new Uint8Array(i)):h.push(i.subarray(0,e.next_out_index))),y+=e.next_out_index,l&&e.next_in_index>0&&e.next_in_index!=_&&(l(e.next_in_index),_=e.next_in_index)}while(e.avail_in>0||e.avail_out===0);return h.length>1?(p=new Uint8Array(y),h.forEach(function(u){p.set(u,g),g+=u.length})):p=h[0]?new Uint8Array(h[0]):new Uint8Array,p}},t.flush=function(){e.inflateEnd()}}const he=4294967295,oe=65535,ys=8,xs=0,Es=99,Ts=67324752,Ss=134695760,tn=33639248,As=101010256,nn=101075792,Rs=117853008,z=22,Je=20,Qe=56,Cs=1,Os=39169,Is=10,Ds=1,ks=21589,Ns=28789,Ps=25461,Ls=6534,rn=1,Fs=6,sn=8,an=2048,on=16,Ms="/",Y=void 0,fe="undefined",Oe="function";class cn{constructor(t){return class extends TransformStream{constructor(e,r){const s=new t(r);super({transform(i,a){a.enqueue(s.append(i))},flush(i){const a=s.flush();a&&i.enqueue(a)}})}}}}const Us=64;let Nn=2;try{typeof navigator!=fe&&navigator.hardwareConcurrency&&(Nn=navigator.hardwareConcurrency)}catch{}const vs={chunkSize:512*1024,maxWorkers:Nn,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Y,CompressionStreamNative:typeof CompressionStream!=fe&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=fe&&DecompressionStream},ce=Object.assign({},vs);function Pn(){return ce}function Hs(n){return Math.max(n.chunkSize,Us)}function Ln(n){const{baseURL:t,chunkSize:e,maxWorkers:r,terminateWorkerTimeout:s,useCompressionStream:i,useWebWorkers:a,Deflate:c,Inflate:l,CompressionStream:h,DecompressionStream:d,workerScripts:p}=n;if(ie("baseURL",t),ie("chunkSize",e),ie("maxWorkers",r),ie("terminateWorkerTimeout",s),ie("useCompressionStream",i),ie("useWebWorkers",a),c&&(ce.CompressionStream=new cn(c)),l&&(ce.DecompressionStream=new cn(l)),ie("CompressionStream",h),ie("DecompressionStream",d),p!==Y){const{deflate:_,inflate:g}=p;if((_||g)&&(ce.workerScripts||(ce.workerScripts={})),_){if(!Array.isArray(_))throw new Error("workerScripts.deflate must be an array");ce.workerScripts.deflate=_}if(g){if(!Array.isArray(g))throw new Error("workerScripts.inflate must be an array");ce.workerScripts.inflate=g}}}function ie(n,t){t!==Y&&(ce[n]=t)}function Ws(){return"application/octet-stream"}const Fn=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=t>>>1^3988292384:t=t>>>1;Fn[n]=t}class We{constructor(t){this.crc=t||-1}append(t){let e=this.crc|0;for(let r=0,s=t.length|0;r<s;r++)e=e>>>8^Fn[(e^t[r])&255];this.crc=e}get(){return~this.crc}}class Mn extends TransformStream{constructor(){let t;const e=new We;super({transform(r,s){e.append(r),s.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e.get()),t.value=r}}),t=this}}function Bs(n){if(typeof TextEncoder==fe){n=unescape(encodeURIComponent(n));const t=new Uint8Array(n.length);for(let e=0;e<t.length;e++)t[e]=n.charCodeAt(e);return t}else return new TextEncoder().encode(n)}const V={concat(n,t){if(n.length===0||t.length===0)return n.concat(t);const e=n[n.length-1],r=V.getPartial(e);return r===32?n.concat(t):V._shiftRight(t,r,e|0,n.slice(0,n.length-1))},bitLength(n){const t=n.length;if(t===0)return 0;const e=n[t-1];return(t-1)*32+V.getPartial(e)},clamp(n,t){if(n.length*32<t)return n;n=n.slice(0,Math.ceil(t/32));const e=n.length;return t=t&31,e>0&&t&&(n[e-1]=V.partial(t,n[e-1]&2147483648>>t-1,1)),n},partial(n,t,e){return n===32?t:(e?t|0:t<<32-n)+n*1099511627776},getPartial(n){return Math.round(n/1099511627776)||32},_shiftRight(n,t,e,r){for(r===void 0&&(r=[]);t>=32;t-=32)r.push(e),e=0;if(t===0)return r.concat(n);for(let a=0;a<n.length;a++)r.push(e|n[a]>>>t),e=n[a]<<32-t;const s=n.length?n[n.length-1]:0,i=V.getPartial(s);return r.push(V.partial(t+i&31,t+i>32?e:r.pop(),1)),r}},Be={bytes:{fromBits(n){const e=V.bitLength(n)/8,r=new Uint8Array(e);let s;for(let i=0;i<e;i++)i&3||(s=n[i/4]),r[i]=s>>>24,s<<=8;return r},toBits(n){const t=[];let e,r=0;for(e=0;e<n.length;e++)r=r<<8|n[e],(e&3)===3&&(t.push(r),r=0);return e&3&&t.push(V.partial(8*(e&3),r)),t}}},Un={};Un.sha1=class{constructor(n){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],n?(t._h=n._h.slice(0),t._buffer=n._buffer.slice(0),t._length=n._length):t.reset()}reset(){const n=this;return n._h=n._init.slice(0),n._buffer=[],n._length=0,n}update(n){const t=this;typeof n=="string"&&(n=Be.utf8String.toBits(n));const e=t._buffer=V.concat(t._buffer,n),r=t._length,s=t._length=r+V.bitLength(n);if(s>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const i=new Uint32Array(e);let a=0;for(let c=t.blockSize+r-(t.blockSize+r&t.blockSize-1);c<=s;c+=t.blockSize)t._block(i.subarray(16*a,16*(a+1))),a+=1;return e.splice(0,16*a),t}finalize(){const n=this;let t=n._buffer;const e=n._h;t=V.concat(t,[V.partial(1,1)]);for(let r=t.length+2;r&15;r++)t.push(0);for(t.push(Math.floor(n._length/4294967296)),t.push(n._length|0);t.length;)n._block(t.splice(0,16));return n.reset(),e}_f(n,t,e,r){if(n<=19)return t&e|~t&r;if(n<=39)return t^e^r;if(n<=59)return t&e|t&r|e&r;if(n<=79)return t^e^r}_S(n,t){return t<<n|t>>>32-n}_block(n){const t=this,e=t._h,r=Array(80);for(let h=0;h<16;h++)r[h]=n[h];let s=e[0],i=e[1],a=e[2],c=e[3],l=e[4];for(let h=0;h<=79;h++){h>=16&&(r[h]=t._S(1,r[h-3]^r[h-8]^r[h-14]^r[h-16]));const d=t._S(5,s)+t._f(h,i,a,c)+l+r[h]+t._key[Math.floor(h/20)]|0;l=c,c=a,a=t._S(30,i),i=s,s=d}e[0]=e[0]+s|0,e[1]=e[1]+i|0,e[2]=e[2]+a|0,e[3]=e[3]+c|0,e[4]=e[4]+l|0}};const vn={};vn.aes=class{constructor(n){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const e=t._tables[0][4],r=t._tables[1],s=n.length;let i,a,c,l=1;if(s!==4&&s!==6&&s!==8)throw new Error("invalid aes key size");for(t._key=[a=n.slice(0),c=[]],i=s;i<4*s+28;i++){let h=a[i-1];(i%s===0||s===8&&i%s===4)&&(h=e[h>>>24]<<24^e[h>>16&255]<<16^e[h>>8&255]<<8^e[h&255],i%s===0&&(h=h<<8^h>>>24^l<<24,l=l<<1^(l>>7)*283)),a[i]=a[i-s]^h}for(let h=0;i;h++,i--){const d=a[h&3?i:i-4];i<=4||h<4?c[h]=d:c[h]=r[0][e[d>>>24]]^r[1][e[d>>16&255]]^r[2][e[d>>8&255]]^r[3][e[d&255]]}}encrypt(n){return this._crypt(n,0)}decrypt(n){return this._crypt(n,1)}_precompute(){const n=this._tables[0],t=this._tables[1],e=n[4],r=t[4],s=[],i=[];let a,c,l,h;for(let d=0;d<256;d++)i[(s[d]=d<<1^(d>>7)*283)^d]=d;for(let d=a=0;!e[d];d^=c||1,a=i[a]||1){let p=a^a<<1^a<<2^a<<3^a<<4;p=p>>8^p&255^99,e[d]=p,r[p]=d,h=s[l=s[c=s[d]]];let _=h*16843009^l*65537^c*257^d*16843008,g=s[p]*257^p*16843008;for(let y=0;y<4;y++)n[y][d]=g=g<<24^g>>>8,t[y][p]=_=_<<24^_>>>8}for(let d=0;d<5;d++)n[d]=n[d].slice(0),t[d]=t[d].slice(0)}_crypt(n,t){if(n.length!==4)throw new Error("invalid aes block size");const e=this._key[t],r=e.length/4-2,s=[0,0,0,0],i=this._tables[t],a=i[0],c=i[1],l=i[2],h=i[3],d=i[4];let p=n[0]^e[0],_=n[t?3:1]^e[1],g=n[2]^e[2],y=n[t?1:3]^e[3],u=4,o,f,m;for(let b=0;b<r;b++)o=a[p>>>24]^c[_>>16&255]^l[g>>8&255]^h[y&255]^e[u],f=a[_>>>24]^c[g>>16&255]^l[y>>8&255]^h[p&255]^e[u+1],m=a[g>>>24]^c[y>>16&255]^l[p>>8&255]^h[_&255]^e[u+2],y=a[y>>>24]^c[p>>16&255]^l[_>>8&255]^h[g&255]^e[u+3],u+=4,p=o,_=f,g=m;for(let b=0;b<4;b++)s[t?3&-b:b]=d[p>>>24]<<24^d[_>>16&255]<<16^d[g>>8&255]<<8^d[y&255]^e[u++],o=p,p=_,_=g,g=y,y=o;return s}};const js={getRandomValues(n){const t=new Uint32Array(n.buffer),e=r=>{let s=987654321;const i=4294967295;return function(){return s=36969*(s&65535)+(s>>16)&i,r=18e3*(r&65535)+(r>>16)&i,(((s<<16)+r&i)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,s;r<n.length;r+=4){const i=e((s||Math.random())*4294967296);s=i()*987654071,t[r/4]=i()*4294967296|0}return n}},Hn={};Hn.ctrGladman=class{constructor(n,t){this._prf=n,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(n){return this.calculate(this._prf,n,this._iv)}incWord(n){if((n>>24&255)===255){let t=n>>16&255,e=n>>8&255,r=n&255;t===255?(t=0,e===255?(e=0,r===255?r=0:++r):++e):++t,n=0,n+=t<<16,n+=e<<8,n+=r}else n+=1<<24;return n}incCounter(n){(n[0]=this.incWord(n[0]))===0&&(n[1]=this.incWord(n[1]))}calculate(n,t,e){let r;if(!(r=t.length))return[];const s=V.bitLength(t);for(let i=0;i<r;i+=4){this.incCounter(e);const a=n.encrypt(e);t[i]^=a[0],t[i+1]^=a[1],t[i+2]^=a[2],t[i+3]^=a[3]}return V.clamp(t,s)}};const pe={importKey(n){return new pe.hmacSha1(Be.bytes.toBits(n))},pbkdf2(n,t,e,r){if(e=e||1e4,r<0||e<0)throw new Error("invalid params to pbkdf2");const s=(r>>5)+1<<2;let i,a,c,l,h;const d=new ArrayBuffer(s),p=new DataView(d);let _=0;const g=V;for(t=Be.bytes.toBits(t),h=1;_<(s||1);h++){for(i=a=n.encrypt(g.concat(t,[h])),c=1;c<e;c++)for(a=n.encrypt(a),l=0;l<a.length;l++)i[l]^=a[l];for(c=0;_<(s||1)&&c<i.length;c++)p.setInt32(_,i[c]),_+=4}return d.slice(0,r/8)}};pe.hmacSha1=class{constructor(n){const t=this,e=t._hash=Un.sha1,r=[[],[]];t._baseHash=[new e,new e];const s=t._baseHash[0].blockSize/32;n.length>s&&(n=new e().update(n).finalize());for(let i=0;i<s;i++)r[0][i]=n[i]^909522486,r[1][i]=n[i]^1549556828;t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new e(t._baseHash[0])}reset(){const n=this;n._resultHash=new n._hash(n._baseHash[0]),n._updated=!1}update(n){const t=this;t._updated=!0,t._resultHash.update(n)}digest(){const n=this,t=n._resultHash.finalize(),e=new n._hash(n._baseHash[1]).update(t).finalize();return n.reset(),e}encrypt(n){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(n),this.digest(n)}};const qs=typeof crypto!=fe&&typeof crypto.getRandomValues==Oe,pt="Invalid password",mt="Invalid signature",wt="zipjs-abort-check-password";function Wn(n){return qs?crypto.getRandomValues(n):js.getRandomValues(n)}const we=16,Gs="raw",Bn={name:"PBKDF2"},Ys={name:"HMAC"},Vs="SHA-1",Zs=Object.assign({hash:Ys},Bn),at=Object.assign({iterations:1e3,hash:{name:Vs}},Bn),Ks=["deriveBits"],Se=[8,12,16],Ee=[16,24,32],ae=10,Xs=[0,0,0,0],Ge=typeof crypto!=fe,Ie=Ge&&crypto.subtle,jn=Ge&&typeof Ie!=fe,J=Be.bytes,$s=vn.aes,Js=Hn.ctrGladman,Qs=pe.hmacSha1;let ln=Ge&&jn&&typeof Ie.importKey==Oe,fn=Ge&&jn&&typeof Ie.deriveBits==Oe;class zs extends TransformStream{constructor({password:t,rawPassword:e,signed:r,encryptionStrength:s,checkPasswordOnly:i}){super({start(){Object.assign(this,{ready:new Promise(a=>this.resolveReady=a),password:Yn(t,e),signed:r,strength:s-1,pending:new Uint8Array})},async transform(a,c){const l=this,{password:h,strength:d,resolveReady:p,ready:_}=l;h?(await ti(l,d,h,$(a,0,Se[d]+2)),a=$(a,Se[d]+2),i?c.error(new Error(wt)):p()):await _;const g=new Uint8Array(a.length-ae-(a.length-ae)%we);c.enqueue(qn(l,a,g,0,ae,!0))},async flush(a){const{signed:c,ctr:l,hmac:h,pending:d,ready:p}=this;if(h&&l){await p;const _=$(d,0,d.length-ae),g=$(d,d.length-ae);let y=new Uint8Array;if(_.length){const u=Re(J,_);h.update(u);const o=l.update(u);y=Ae(J,o)}if(c){const u=$(Ae(J,h.digest()),0,ae);for(let o=0;o<ae;o++)if(u[o]!=g[o])throw new Error(mt)}a.enqueue(y)}}})}}class ei extends TransformStream{constructor({password:t,rawPassword:e,encryptionStrength:r}){let s;super({start(){Object.assign(this,{ready:new Promise(i=>this.resolveReady=i),password:Yn(t,e),strength:r-1,pending:new Uint8Array})},async transform(i,a){const c=this,{password:l,strength:h,resolveReady:d,ready:p}=c;let _=new Uint8Array;l?(_=await ni(c,h,l),d()):await p;const g=new Uint8Array(_.length+i.length-i.length%we);g.set(_,0),a.enqueue(qn(c,i,g,_.length,0))},async flush(i){const{ctr:a,hmac:c,pending:l,ready:h}=this;if(c&&a){await h;let d=new Uint8Array;if(l.length){const p=a.update(Re(J,l));c.update(p),d=Ae(J,p)}s.signature=Ae(J,c.digest()).slice(0,ae),i.enqueue(bt(d,s.signature))}}}),s=this}}function qn(n,t,e,r,s,i){const{ctr:a,hmac:c,pending:l}=n,h=t.length-s;l.length&&(t=bt(l,t),e=ii(e,h-h%we));let d;for(d=0;d<=h-we;d+=we){const p=Re(J,$(t,d,d+we));i&&c.update(p);const _=a.update(p);i||c.update(_),e.set(Ae(J,_),d+r)}return n.pending=$(t,d),e}async function ti(n,t,e,r){const s=await Gn(n,t,e,$(r,0,Se[t])),i=$(r,Se[t]);if(s[0]!=i[0]||s[1]!=i[1])throw new Error(pt)}async function ni(n,t,e){const r=Wn(new Uint8Array(Se[t])),s=await Gn(n,t,e,r);return bt(r,s)}async function Gn(n,t,e,r){n.password=null;const s=await ri(Gs,e,Zs,!1,Ks),i=await si(Object.assign({salt:r},at),s,8*(Ee[t]*2+2)),a=new Uint8Array(i),c=Re(J,$(a,0,Ee[t])),l=Re(J,$(a,Ee[t],Ee[t]*2)),h=$(a,Ee[t]*2);return Object.assign(n,{keys:{key:c,authentication:l,passwordVerification:h},ctr:new Js(new $s(c),Array.from(Xs)),hmac:new Qs(l)}),h}async function ri(n,t,e,r,s){if(ln)try{return await Ie.importKey(n,t,e,r,s)}catch{return ln=!1,pe.importKey(t)}else return pe.importKey(t)}async function si(n,t,e){if(fn)try{return await Ie.deriveBits(n,t,e)}catch{return fn=!1,pe.pbkdf2(t,n.salt,at.iterations,e)}else return pe.pbkdf2(t,n.salt,at.iterations,e)}function Yn(n,t){return t===Y?Bs(n):t}function bt(n,t){let e=n;return n.length+t.length&&(e=new Uint8Array(n.length+t.length),e.set(n,0),e.set(t,n.length)),e}function ii(n,t){if(t&&t>n.length){const e=n;n=new Uint8Array(t),n.set(e,0)}return n}function $(n,t,e){return n.subarray(t,e)}function Ae(n,t){return n.fromBits(t)}function Re(n,t){return n.toBits(t)}const be=12;class ai extends TransformStream{constructor({password:t,passwordVerification:e,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),Vn(this,t)},transform(s,i){const a=this;if(a.password){const c=un(a,s.subarray(0,be));if(a.password=null,c[be-1]!=a.passwordVerification)throw new Error(pt);s=s.subarray(be)}r?i.error(new Error(wt)):i.enqueue(un(a,s))}})}}class oi extends TransformStream{constructor({password:t,passwordVerification:e}){super({start(){Object.assign(this,{password:t,passwordVerification:e}),Vn(this,t)},transform(r,s){const i=this;let a,c;if(i.password){i.password=null;const l=Wn(new Uint8Array(be));l[be-1]=i.passwordVerification,a=new Uint8Array(r.length+l.length),a.set(dn(i,l),0),c=be}else a=new Uint8Array(r.length),c=0;a.set(dn(i,r),c),s.enqueue(a)}})}}function un(n,t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=Zn(n)^t[r],gt(n,e[r]);return e}function dn(n,t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=Zn(n)^t[r],gt(n,t[r]);return e}function Vn(n,t){const e=[305419896,591751049,878082192];Object.assign(n,{keys:e,crcKey0:new We(e[0]),crcKey2:new We(e[2])});for(let r=0;r<t.length;r++)gt(n,t.charCodeAt(r))}function gt(n,t){let[e,r,s]=n.keys;n.crcKey0.append([t]),e=~n.crcKey0.get(),r=_n(Math.imul(_n(r+Kn(e)),134775813)+1),n.crcKey2.append([r>>>24]),s=~n.crcKey2.get(),n.keys=[e,r,s]}function Zn(n){const t=n.keys[2]|2;return Kn(Math.imul(t,t^1)>>>8)}function Kn(n){return n&255}function _n(n){return n&4294967295}const hn="deflate-raw";class ci extends TransformStream{constructor(t,{chunkSize:e,CompressionStream:r,CompressionStreamNative:s}){super({});const{compressed:i,encrypted:a,useCompressionStream:c,zipCrypto:l,signed:h,level:d}=t,p=this;let _,g,y=Xn(super.readable);(!a||l)&&h&&(_=new Mn,y=Q(y,_)),i&&(y=Jn(y,c,{level:d,chunkSize:e},s,r)),a&&(l?y=Q(y,new oi(t)):(g=new ei(t),y=Q(y,g))),$n(p,y,()=>{let u;a&&!l&&(u=g.signature),(!a||l)&&h&&(u=new DataView(_.value.buffer).getUint32(0)),p.signature=u})}}class li extends TransformStream{constructor(t,{chunkSize:e,DecompressionStream:r,DecompressionStreamNative:s}){super({});const{zipCrypto:i,encrypted:a,signed:c,signature:l,compressed:h,useCompressionStream:d}=t;let p,_,g=Xn(super.readable);a&&(i?g=Q(g,new ai(t)):(_=new zs(t),g=Q(g,_))),h&&(g=Jn(g,d,{chunkSize:e},s,r)),(!a||i)&&c&&(p=new Mn,g=Q(g,p)),$n(this,g,()=>{if((!a||i)&&c){const y=new DataView(p.value.buffer);if(l!=y.getUint32(0,!1))throw new Error(mt)}})}}function Xn(n){return Q(n,new TransformStream({transform(t,e){t&&t.length&&e.enqueue(t)}}))}function $n(n,t,e){t=Q(t,new TransformStream({flush:e})),Object.defineProperty(n,"readable",{get(){return t}})}function Jn(n,t,e,r,s){try{const i=t&&r?r:s;n=Q(n,new i(hn,e))}catch{if(t)try{n=Q(n,new s(hn,e))}catch{return n}else return n}return n}function Q(n,t){return n.pipeThrough(t)}const fi="message",ui="start",di="pull",pn="data",_i="ack",mn="close",hi="deflate",Qn="inflate";class pi extends TransformStream{constructor(t,e){super({});const r=this,{codecType:s}=t;let i;s.startsWith(hi)?i=ci:s.startsWith(Qn)&&(i=li);let a=0,c=0;const l=new i(t,e),h=super.readable,d=new TransformStream({transform(_,g){_&&_.length&&(c+=_.length,g.enqueue(_))},flush(){Object.assign(r,{inputSize:c})}}),p=new TransformStream({transform(_,g){_&&_.length&&(a+=_.length,g.enqueue(_))},flush(){const{signature:_}=l;Object.assign(r,{signature:_,outputSize:a,inputSize:c})}});Object.defineProperty(r,"readable",{get(){return h.pipeThrough(d).pipeThrough(l).pipeThrough(p)}})}}class mi extends TransformStream{constructor(t){let e;super({transform:r,flush(s){e&&e.length&&s.enqueue(e)}});function r(s,i){if(e){const a=new Uint8Array(e.length+s.length);a.set(e),a.set(s,e.length),s=a,e=null}s.length>t?(i.enqueue(s.slice(0,t)),r(s.slice(t),i)):e=s}}}let zn=typeof Worker!=fe;class ze{constructor(t,{readable:e,writable:r},{options:s,config:i,streamOptions:a,useWebWorkers:c,transferStreams:l,scripts:h},d){const{signal:p}=a;return Object.assign(t,{busy:!0,readable:e.pipeThrough(new mi(i.chunkSize)).pipeThrough(new wi(e,a),{signal:p}),writable:r,options:Object.assign({},s),scripts:h,transferStreams:l,terminate(){return new Promise(_=>{const{worker:g,busy:y}=t;g?(y?t.resolveTerminated=_:(g.terminate(),_()),t.interface=null):_()})},onTaskFinished(){const{resolveTerminated:_}=t;_&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),_()),t.busy=!1,d(t)}}),(c&&zn?bi:er)(t,i)}}class wi extends TransformStream{constructor(t,{onstart:e,onprogress:r,size:s,onend:i}){let a=0;super({async start(){e&&await et(e,s)},async transform(c,l){a+=c.length,r&&await et(r,a,s),l.enqueue(c)},async flush(){t.size=a,i&&await et(i,a)}})}}async function et(n,...t){try{await n(...t)}catch{}}function er(n,t){return{run:()=>gi(n,t)}}function bi(n,t){const{baseURL:e,chunkSize:r}=t;if(!n.interface){let s;try{s=Ei(n.scripts[0],e,n)}catch{return zn=!1,er(n,t)}Object.assign(n,{worker:s,interface:{run:()=>yi(n,{chunkSize:r})}})}return n.interface}async function gi({options:n,readable:t,writable:e,onTaskFinished:r},s){try{const i=new pi(n,s);await t.pipeThrough(i).pipeTo(e,{preventClose:!0,preventAbort:!0});const{signature:a,inputSize:c,outputSize:l}=i;return{signature:a,inputSize:c,outputSize:l}}finally{r()}}async function yi(n,t){let e,r;const s=new Promise((_,g)=>{e=_,r=g});Object.assign(n,{reader:null,writer:null,resolveResult:e,rejectResult:r,result:s});const{readable:i,options:a,scripts:c}=n,{writable:l,closed:h}=xi(n.writable),d=Me({type:ui,scripts:c.slice(1),options:a,config:t,readable:i,writable:l},n);d||Object.assign(n,{reader:i.getReader(),writer:l.getWriter()});const p=await s;return d||await l.getWriter().close(),await h,p}function xi(n){let t;const e=new Promise(s=>t=s);return{writable:new WritableStream({async write(s){const i=n.getWriter();await i.ready,await i.write(s),i.releaseLock()},close(){t()},abort(s){return n.getWriter().abort(s)}}),closed:e}}let wn=!0,bn=!0;function Ei(n,t,e){const r={type:"module"};let s,i;typeof n==Oe&&(n=n());try{s=new URL(n,t)}catch{s=n}if(wn)try{i=new Worker(s)}catch{wn=!1,i=new Worker(s,r)}else i=new Worker(s,r);return i.addEventListener(fi,a=>Ti(a,e)),i}function Me(n,{worker:t,writer:e,onTaskFinished:r,transferStreams:s}){try{let{value:i,readable:a,writable:c}=n;const l=[];if(i&&(i.byteLength<i.buffer.byteLength?n.value=i.buffer.slice(0,i.byteLength):n.value=i.buffer,l.push(n.value)),s&&bn?(a&&l.push(a),c&&l.push(c)):n.readable=n.writable=null,l.length)try{return t.postMessage(n,l),!0}catch{bn=!1,n.readable=n.writable=null,t.postMessage(n)}else t.postMessage(n)}catch(i){throw e&&e.releaseLock(),r(),i}}async function Ti({data:n},t){const{type:e,value:r,messageId:s,result:i,error:a}=n,{reader:c,writer:l,resolveResult:h,rejectResult:d,onTaskFinished:p}=t;try{if(a){const{message:g,stack:y,code:u,name:o}=a,f=new Error(g);Object.assign(f,{stack:y,code:u,name:o}),_(f)}else{if(e==di){const{value:g,done:y}=await c.read();Me({type:pn,value:g,done:y,messageId:s},t)}e==pn&&(await l.ready,await l.write(new Uint8Array(r)),Me({type:_i,messageId:s},t)),e==mn&&_(null,i)}}catch(g){Me({type:mn,messageId:s},t),_(g)}function _(g,y){g?d(g):h(y),l&&l.releaseLock(),p()}}let le=[];const tt=[];let gn=0;async function Si(n,t){const{options:e,config:r}=t,{transferStreams:s,useWebWorkers:i,useCompressionStream:a,codecType:c,compressed:l,signed:h,encrypted:d}=e,{workerScripts:p,maxWorkers:_}=r;t.transferStreams=s||s===Y;const g=!l&&!h&&!d&&!t.transferStreams;return t.useWebWorkers=!g&&(i||i===Y&&r.useWebWorkers),t.scripts=t.useWebWorkers&&p?p[c]:[],e.useCompressionStream=a||a===Y&&r.useCompressionStream,(await y()).run();async function y(){const o=le.find(f=>!f.busy);if(o)return ot(o),new ze(o,n,t,u);if(le.length<_){const f={indexWorker:gn};return gn++,le.push(f),new ze(f,n,t,u)}else return new Promise(f=>tt.push({resolve:f,stream:n,workerOptions:t}))}function u(o){if(tt.length){const[{resolve:f,stream:m,workerOptions:b}]=tt.splice(0,1);f(new ze(o,m,b,u))}else o.worker?(ot(o),Ai(o,t)):le=le.filter(f=>f!=o)}}function Ai(n,t){const{config:e}=t,{terminateWorkerTimeout:r}=e;Number.isFinite(r)&&r>=0&&(n.terminated?n.terminated=!1:n.terminateTimeout=setTimeout(async()=>{le=le.filter(s=>s!=n);try{await n.terminate()}catch{}},r))}function ot(n){const{terminateTimeout:t}=n;t&&(clearTimeout(t),n.terminateTimeout=null)}async function Ri(){await Promise.allSettled(le.map(n=>(ot(n),n.terminate())))}const tr="HTTP error ",De="HTTP Range not supported",nr="Writer iterator completed too soon",Ci="text/plain",Oi="Content-Length",Ii="Content-Range",Di="Accept-Ranges",ki="Range",Ni="Content-Type",Pi="HEAD",yt="GET",rr="bytes",Li=64*1024,xt="writable";class Ye{constructor(){this.size=0}init(){this.initialized=!0}}class ue extends Ye{get readable(){const t=this,{chunkSize:e=Li}=t,r=new ReadableStream({start(){this.chunkOffset=0},async pull(s){const{offset:i=0,size:a,diskNumberStart:c}=r,{chunkOffset:l}=this;s.enqueue(await G(t,i+l,Math.min(e,a-l),c)),l+e>a?s.close():this.chunkOffset+=e}});return r}}class Et extends Ye{constructor(){super();const t=this,e=new WritableStream({write(r){return t.writeUint8Array(r)}});Object.defineProperty(t,xt,{get(){return e}})}writeUint8Array(){}}class Fi extends ue{constructor(t){super();let e=t.length;for(;t.charAt(e-1)=="=";)e--;const r=t.indexOf(",")+1;Object.assign(this,{dataURI:t,dataStart:r,size:Math.floor((e-r)*.75)})}readUint8Array(t,e){const{dataStart:r,dataURI:s}=this,i=new Uint8Array(e),a=Math.floor(t/3)*4,c=atob(s.substring(a+r,Math.ceil((t+e)/3)*4+r)),l=t-Math.floor(a/4)*3;for(let h=l;h<l+e;h++)i[h-l]=c.charCodeAt(h);return i}}class Mi extends Et{constructor(t){super(),Object.assign(this,{data:"data:"+(t||"")+";base64,",pending:[]})}writeUint8Array(t){const e=this;let r=0,s=e.pending;const i=e.pending.length;for(e.pending="",r=0;r<Math.floor((i+t.length)/3)*3-i;r++)s+=String.fromCharCode(t[r]);for(;r<t.length;r++)e.pending+=String.fromCharCode(t[r]);s.length>2?e.data+=btoa(s):e.pending=s}getData(){return this.data+btoa(this.pending)}}class Tt extends ue{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,e){const r=this,s=t+e;let a=await(t||s<r.size?r.blob.slice(t,s):r.blob).arrayBuffer();return a.byteLength>e&&(a=a.slice(t,s)),new Uint8Array(a)}}class sr extends Ye{constructor(t){super();const e=this,r=new TransformStream,s=[];t&&s.push([Ni,t]),Object.defineProperty(e,xt,{get(){return r.writable}}),e.blob=new Response(r.readable,{headers:s}).blob()}getData(){return this.blob}}class Ui extends Tt{constructor(t){super(new Blob([t],{type:Ci}))}}class vi extends sr{constructor(t){super(t),Object.assign(this,{encoding:t,utf8:!t||t.toLowerCase()=="utf-8"})}async getData(){const{encoding:t,utf8:e}=this,r=await super.getData();if(r.text&&e)return r.text();{const s=new FileReader;return new Promise((i,a)=>{Object.assign(s,{onload:({target:c})=>i(c.result),onerror:()=>a(s.error)}),s.readAsText(r,t)})}}}class Hi extends ue{constructor(t,e){super(),ir(this,t,e)}async init(){await ar(this,ct,yn),super.init()}readUint8Array(t,e){return or(this,t,e,ct,yn)}}class Wi extends ue{constructor(t,e){super(),ir(this,t,e)}async init(){await ar(this,lt,xn),super.init()}readUint8Array(t,e){return or(this,t,e,lt,xn)}}function ir(n,t,e){const{preventHeadRequest:r,useRangeHeader:s,forceRangeRequests:i,combineSizeEocd:a}=e;e=Object.assign({},e),delete e.preventHeadRequest,delete e.useRangeHeader,delete e.forceRangeRequests,delete e.combineSizeEocd,delete e.useXHR,Object.assign(n,{url:t,options:e,preventHeadRequest:r,useRangeHeader:s,forceRangeRequests:i,combineSizeEocd:a})}async function ar(n,t,e){const{url:r,preventHeadRequest:s,useRangeHeader:i,forceRangeRequests:a,combineSizeEocd:c}=n;if(Gi(r)&&(i||a)&&(typeof s>"u"||s)){const l=await t(yt,n,cr(n,c?-z:void 0));if(!a&&l.headers.get(Di)!=rr)throw new Error(De);{c&&(n.eocdCache=new Uint8Array(await l.arrayBuffer()));let h;const d=l.headers.get(Ii);if(d){const p=d.trim().split(/\s*\/\s*/);if(p.length){const _=p[1];_&&_!="*"&&(h=Number(_))}}h===Y?await En(n,t,e):n.size=h}}else await En(n,t,e)}async function or(n,t,e,r,s){const{useRangeHeader:i,forceRangeRequests:a,eocdCache:c,size:l,options:h}=n;if(i||a){if(c&&t==l-z&&e==z)return c;const d=await r(yt,n,cr(n,t,e));if(d.status!=206)throw new Error(De);return new Uint8Array(await d.arrayBuffer())}else{const{data:d}=n;return d||await s(n,h),new Uint8Array(n.data.subarray(t,t+e))}}function cr(n,t=0,e=1){return Object.assign({},St(n),{[ki]:rr+"="+(t<0?t:t+"-"+(t+e-1))})}function St({options:n}){const{headers:t}=n;if(t)return Symbol.iterator in t?Object.fromEntries(t):t}async function yn(n){await lr(n,ct)}async function xn(n){await lr(n,lt)}async function lr(n,t){const e=await t(yt,n,St(n));n.data=new Uint8Array(await e.arrayBuffer()),n.size||(n.size=n.data.length)}async function En(n,t,e){if(n.preventHeadRequest)await e(n,n.options);else{const s=(await t(Pi,n,St(n))).headers.get(Oi);s?n.size=Number(s):await e(n,n.options)}}async function ct(n,{options:t,url:e},r){const s=await fetch(e,Object.assign({},t,{method:n,headers:r}));if(s.status<400)return s;throw s.status==416?new Error(De):new Error(tr+(s.statusText||s.status))}function lt(n,{url:t},e){return new Promise((r,s)=>{const i=new XMLHttpRequest;if(i.addEventListener("load",()=>{if(i.status<400){const a=[];i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(c=>{const l=c.trim().split(/\s*:\s*/);l[0]=l[0].trim().replace(/^[a-z]|-[a-z]/g,h=>h.toUpperCase()),a.push(l)}),r({status:i.status,arrayBuffer:()=>i.response,headers:new Map(a)})}else s(i.status==416?new Error(De):new Error(tr+(i.statusText||i.status)))},!1),i.addEventListener("error",a=>s(a.detail?a.detail.error:new Error("Network error")),!1),i.open(n,t),e)for(const a of Object.entries(e))i.setRequestHeader(a[0],a[1]);i.responseType="arraybuffer",i.send()})}class fr extends ue{constructor(t,e={}){super(),Object.assign(this,{url:t,reader:e.useXHR?new Wi(t,e):new Hi(t,e)})}set size(t){}get size(){return this.reader.size}async init(){await this.reader.init(),super.init()}readUint8Array(t,e){return this.reader.readUint8Array(t,e)}}class Bi extends fr{constructor(t,e={}){e.useRangeHeader=!0,super(t,e)}}class ji extends ue{constructor(t){super(),Object.assign(this,{array:t,size:t.length})}readUint8Array(t,e){return this.array.slice(t,t+e)}}class qi extends Et{init(t=0){Object.assign(this,{offset:0,array:new Uint8Array(t)}),super.init()}writeUint8Array(t){const e=this;if(e.offset+t.length>e.array.length){const r=e.array;e.array=new Uint8Array(r.length+t.length),e.array.set(r)}e.array.set(t,e.offset),e.offset+=t.length}getData(){return this.array}}class At extends ue{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:e}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(e.map(async(r,s)=>{await r.init(),s!=e.length-1&&(t.lastDiskOffset+=r.size),t.size+=r.size})),super.init()}async readUint8Array(t,e,r=0){const s=this,{readers:i}=this;let a,c=r;c==-1&&(c=i.length-1);let l=t;for(;l>=i[c].size;)l-=i[c].size,c++;const h=i[c],d=h.size;if(l+e<=d)a=await G(h,l,e);else{const p=d-l;a=new Uint8Array(e),a.set(await G(h,l,p)),a.set(await s.readUint8Array(t+p,e-p,r),p)}return s.lastDiskNumber=Math.max(c,s.lastDiskNumber),a}}class je extends Ye{constructor(t,e=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:e,availableSize:e});let s,i,a;const c=new WritableStream({async write(d){const{availableSize:p}=r;if(a)d.length>=p?(await l(d.slice(0,p)),await h(),r.diskOffset+=s.size,r.diskNumber++,a=null,await this.write(d.slice(p))):await l(d);else{const{value:_,done:g}=await t.next();if(g&&!_)throw new Error(nr);s=_,s.size=0,s.maxSize&&(r.maxSize=s.maxSize),r.availableSize=r.maxSize,await Ce(s),i=_.writable,a=i.getWriter(),await this.write(d)}},async close(){await a.ready,await h()}});Object.defineProperty(r,xt,{get(){return c}});async function l(d){const p=d.length;p&&(await a.ready,await a.write(d),s.size+=p,r.size+=p,r.availableSize-=p)}async function h(){i.size=s.size,await a.close()}}}function Gi(n){const{baseURL:t}=Pn(),{protocol:e}=new URL(n,t);return e=="http:"||e=="https:"}async function Ce(n,t){if(n.init&&!n.initialized)await n.init(t);else return Promise.resolve()}function ur(n){return Array.isArray(n)&&(n=new At(n)),n instanceof ReadableStream&&(n={readable:n}),n}function dr(n){n.writable===Y&&typeof n.next==Oe&&(n=new je(n)),n instanceof WritableStream&&(n={writable:n});const{writable:t}=n;return t.size===Y&&(t.size=0),n instanceof je||Object.assign(n,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),n}function G(n,t,e,r){return n.readUint8Array(t,e,r)}const Yi=At,Vi=je,_r="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),Zi=_r.length==256;function Ki(n){if(Zi){let t="";for(let e=0;e<n.length;e++)t+=_r[n[e]];return t}else return new TextDecoder().decode(n)}function Ue(n,t){return t&&t.trim().toLowerCase()=="cp437"?Ki(n):new TextDecoder(t).decode(n)}const hr="filename",pr="rawFilename",mr="comment",wr="rawComment",br="uncompressedSize",gr="compressedSize",yr="offset",ft="diskNumberStart",ut="lastModDate",dt="rawLastModDate",xr="lastAccessDate",Xi="rawLastAccessDate",Er="creationDate",$i="rawCreationDate",Ji="internalFileAttribute",Qi="externalFileAttribute",zi="msDosCompatible",ea="zip64",ta=[hr,pr,gr,br,ut,dt,mr,wr,xr,Er,yr,ft,ft,Ji,Qi,zi,ea,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Tn{constructor(t){ta.forEach(e=>this[e]=t[e])}}const ve="File format is not recognized",Tr="End of central directory not found",Sr="End of Zip64 central directory locator not found",Ar="Central directory header not found",Rr="Local file header not found",Cr="Zip64 extra field not found",Or="File contains encrypted entry",Ir="Encryption method not supported",_t="Compression method not supported",ht="Split zip file",Sn="utf-8",An="cp437",na=[[br,he],[gr,he],[yr,he],[ft,oe]],ra={[oe]:{getValue:B,bytes:4},[he]:{getValue:He,bytes:8}};class Dr{constructor(t,e={}){Object.assign(this,{reader:ur(t),options:e,config:Pn()})}async*getEntriesGenerator(t={}){const e=this;let{reader:r}=e;const{config:s}=e;if(await Ce(r),(r.size===Y||!r.readUint8Array)&&(r=new Tt(await new Response(r.readable).blob()),await Ce(r)),r.size<z)throw new Error(ve);r.chunkSize=Hs(s);const i=await fa(r,As,r.size,z,oe*16);if(!i){const S=await G(r,0,4),R=q(S);throw B(R)==Ss?new Error(ht):new Error(Tr)}const a=q(i);let c=B(a,12),l=B(a,16);const h=i.offset,d=j(a,20),p=h+z+d;let _=j(a,4);const g=r.lastDiskNumber||0;let y=j(a,6),u=j(a,8),o=0,f=0;if(l==he||c==he||u==oe||y==oe){const S=await G(r,i.offset-Je,Je),R=q(S);if(B(R,0)==Rs){l=He(R,8);let I=await G(r,l,Qe,-1),O=q(I);const P=i.offset-Je-Qe;if(B(O,0)!=nn&&l!=P){const N=l;l=P,o=l-N,I=await G(r,l,Qe,-1),O=q(I)}if(B(O,0)!=nn)throw new Error(Sr);_==oe&&(_=B(O,16)),y==oe&&(y=B(O,20)),u==oe&&(u=He(O,32)),c==he&&(c=He(O,40)),l-=c}}if(l>=r.size&&(o=r.size-l-c-z,l=r.size-c-z),g!=_)throw new Error(ht);if(l<0)throw new Error(ve);let m=0,b=await G(r,l,c,y),x=q(b);if(c){const S=i.offset-c;if(B(x,m)!=tn&&l!=S){const R=l;l=S,o+=l-R,b=await G(r,l,c,y),x=q(b)}}const A=i.offset-l-(r.lastDiskOffset||0);if(c!=A&&A>=0&&(c=A,b=await G(r,l,c,y),x=q(b)),l<0||l>=r.size)throw new Error(ve);const w=Z(e,t,"filenameEncoding"),T=Z(e,t,"commentEncoding");for(let S=0;S<u;S++){const R=new ia(r,s,e.options);if(B(x,m)!=tn)throw new Error(Ar);kr(R,x,m+6);const I=!!R.bitFlag.languageEncodingFlag,O=m+46,P=O+R.filenameLength,N=P+R.extraFieldLength,D=j(x,m+4),W=(D&0)==0,L=b.subarray(O,P),ye=j(x,m+32),k=N+ye,ne=b.subarray(N,k),U=I,v=I,Rt=W&&(ge(x,m+38)&on)==on,Ct=B(x,m+42)+o;Object.assign(R,{versionMadeBy:D,msDosCompatible:W,compressedSize:0,uncompressedSize:0,commentLength:ye,directory:Rt,offset:Ct,diskNumberStart:j(x,m+34),internalFileAttribute:j(x,m+36),externalFileAttribute:B(x,m+38),rawFilename:L,filenameUTF8:U,commentUTF8:v,rawExtraField:b.subarray(P,N)});const Ot=Z(e,t,"decodeText")||Ue,It=U?Sn:w||An,Dt=v?Sn:T||An;let ke=Ot(L,It);ke===Y&&(ke=Ue(L,It));let Ve=Ot(ne,Dt);Ve===Y&&(Ve=Ue(ne,Dt)),Object.assign(R,{rawComment:ne,filename:ke,comment:Ve,directory:Rt||ke.endsWith(Ms)}),f=Math.max(Ct,f),await Nr(R,R,x,m+6);const Ze=new Tn(R);Ze.getData=(Nt,Lr)=>R.getData(Nt,Ze,Lr),m=k;const{onprogress:kt}=t;if(kt)try{await kt(S+1,u,new Tn(R))}catch{}yield Ze}const E=Z(e,t,"extractPrependedData"),C=Z(e,t,"extractAppendedData");return E&&(e.prependedData=f>0?await G(r,0,f):new Uint8Array),e.comment=d?await G(r,h+z,d):new Uint8Array,C&&(e.appendedData=p<r.size?await G(r,p,r.size-p):new Uint8Array),!0}async getEntries(t={}){const e=[];for await(const r of this.getEntriesGenerator(t))e.push(r);return e}async close(){}}class sa{constructor(t={}){const{readable:e,writable:r}=new TransformStream,s=new Dr(e,t).getEntriesGenerator();this.readable=new ReadableStream({async pull(i){const{done:a,value:c}=await s.next();if(a)return i.close();const l={...c,readable:function(){const{readable:h,writable:d}=new TransformStream;if(c.getData)return c.getData(d),h}()};delete l.getData,i.enqueue(l)}}),this.writable=r}}class ia{constructor(t,e,r){Object.assign(this,{reader:t,config:e,options:r})}async getData(t,e,r={}){const s=this,{reader:i,offset:a,diskNumberStart:c,extraFieldAES:l,compressionMethod:h,config:d,bitFlag:p,signature:_,rawLastModDate:g,uncompressedSize:y,compressedSize:u}=s,o=e.localDirectory={},f=await G(i,a,30,c),m=q(f);let b=Z(s,r,"password"),x=Z(s,r,"rawPassword");if(b=b&&b.length&&b,x=x&&x.length&&x,l&&l.originalCompressionMethod!=Es)throw new Error(_t);if(h!=xs&&h!=ys)throw new Error(_t);if(B(m,0)!=Ts)throw new Error(Rr);kr(o,m,4),o.rawExtraField=o.extraFieldLength?await G(i,a+30+o.filenameLength,o.extraFieldLength,c):new Uint8Array,await Nr(s,o,m,4,!0),Object.assign(e,{lastAccessDate:o.lastAccessDate,creationDate:o.creationDate});const A=s.encrypted&&o.encrypted,w=A&&!l;if(A){if(!w&&l.strength===Y)throw new Error(Ir);if(!b&&!x)throw new Error(Or)}const T=a+30+o.filenameLength+o.extraFieldLength,E=u,C=i.readable;Object.assign(C,{diskNumberStart:c,offset:T,size:E});const S=Z(s,r,"signal"),R=Z(s,r,"checkPasswordOnly");R&&(t=new WritableStream),t=dr(t),await Ce(t,y);const{writable:I}=t,{onstart:O,onprogress:P,onend:N}=r,D={options:{codecType:Qn,password:b,rawPassword:x,zipCrypto:w,encryptionStrength:l&&l.strength,signed:Z(s,r,"checkSignature"),passwordVerification:w&&(p.dataDescriptor?g>>>8&255:_>>>24&255),signature:_,compressed:h!=0,encrypted:A,useWebWorkers:Z(s,r,"useWebWorkers"),useCompressionStream:Z(s,r,"useCompressionStream"),transferStreams:Z(s,r,"transferStreams"),checkPasswordOnly:R},config:d,streamOptions:{signal:S,size:E,onstart:O,onprogress:P,onend:N}};let W=0;try{({outputSize:W}=await Si({readable:C,writable:I},D))}catch(L){if(!R||L.message!=wt)throw L}finally{const L=Z(s,r,"preventClose");I.size+=W,!L&&!I.locked&&await I.getWriter().close()}return R?Y:t.getData?t.getData():I}}function kr(n,t,e){const r=n.rawBitFlag=j(t,e+2),s=(r&rn)==rn,i=B(t,e+6);Object.assign(n,{encrypted:s,version:j(t,e),bitFlag:{level:(r&Fs)>>1,dataDescriptor:(r&sn)==sn,languageEncodingFlag:(r&an)==an},rawLastModDate:i,lastModDate:ua(i),filenameLength:j(t,e+22),extraFieldLength:j(t,e+24)})}async function Nr(n,t,e,r,s){const{rawExtraField:i}=t,a=t.extraField=new Map,c=q(new Uint8Array(i));let l=0;try{for(;l<i.length;){const f=j(c,l),m=j(c,l+2);a.set(f,{type:f,data:i.slice(l+4,l+4+m)}),l+=4+m}}catch{}const h=j(e,r+4);Object.assign(t,{signature:B(e,r+10),uncompressedSize:B(e,r+18),compressedSize:B(e,r+14)});const d=a.get(Cs);d&&(aa(d,t),t.extraFieldZip64=d);const p=a.get(Ns);p&&(await Rn(p,hr,pr,t,n),t.extraFieldUnicodePath=p);const _=a.get(Ps);_&&(await Rn(_,mr,wr,t,n),t.extraFieldUnicodeComment=_);const g=a.get(Os);g?(oa(g,t,h),t.extraFieldAES=g):t.compressionMethod=h;const y=a.get(Is);y&&(ca(y,t),t.extraFieldNTFS=y);const u=a.get(ks);u&&(la(u,t,s),t.extraFieldExtendedTimestamp=u);const o=a.get(Ls);o&&(t.extraFieldUSDZ=o)}function aa(n,t){t.zip64=!0;const e=q(n.data),r=na.filter(([s,i])=>t[s]==i);for(let s=0,i=0;s<r.length;s++){const[a,c]=r[s];if(t[a]==c){const l=ra[c];t[a]=n[a]=l.getValue(e,i),i+=l.bytes}else if(n[a])throw new Error(Cr)}}async function Rn(n,t,e,r,s){const i=q(n.data),a=new We;a.append(s[e]);const c=q(new Uint8Array(4));c.setUint32(0,a.get(),!0);const l=B(i,1);Object.assign(n,{version:ge(i,0),[t]:Ue(n.data.subarray(5)),valid:!s.bitFlag.languageEncodingFlag&&l==B(c,0)}),n.valid&&(r[t]=n[t],r[t+"UTF8"]=!0)}function oa(n,t,e){const r=q(n.data),s=ge(r,4);Object.assign(n,{vendorVersion:ge(r,0),vendorId:ge(r,2),strength:s,originalCompressionMethod:e,compressionMethod:j(r,5)}),t.compressionMethod=n.compressionMethod}function ca(n,t){const e=q(n.data);let r=4,s;try{for(;r<n.data.length&&!s;){const i=j(e,r),a=j(e,r+2);i==Ds&&(s=n.data.slice(r+4,r+4+a)),r+=4+a}}catch{}try{if(s&&s.length==24){const i=q(s),a=i.getBigUint64(0,!0),c=i.getBigUint64(8,!0),l=i.getBigUint64(16,!0);Object.assign(n,{rawLastModDate:a,rawLastAccessDate:c,rawCreationDate:l});const h=nt(a),d=nt(c),p=nt(l),_={lastModDate:h,lastAccessDate:d,creationDate:p};Object.assign(n,_),Object.assign(t,_)}}catch{}}function la(n,t,e){const r=q(n.data),s=ge(r,0),i=[],a=[];e?((s&1)==1&&(i.push(ut),a.push(dt)),(s&2)==2&&(i.push(xr),a.push(Xi)),(s&4)==4&&(i.push(Er),a.push($i))):n.data.length>=5&&(i.push(ut),a.push(dt));let c=1;i.forEach((l,h)=>{if(n.data.length>=c+4){const d=B(r,c);t[l]=n[l]=new Date(d*1e3);const p=a[h];n[p]=d}c+=4})}async function fa(n,t,e,r,s){const i=new Uint8Array(4),a=q(i);da(a,0,t);const c=r+s;return await l(r)||await l(Math.min(c,e));async function l(h){const d=e-h,p=await G(n,d,h);for(let _=p.length-r;_>=0;_--)if(p[_]==i[0]&&p[_+1]==i[1]&&p[_+2]==i[2]&&p[_+3]==i[3])return{offset:d+_,buffer:p.slice(_,_+r).buffer}}}function Z(n,t,e){return t[e]===Y?n.options[e]:t[e]}function ua(n){const t=(n&4294901760)>>16,e=n&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(e&63488)>>11,(e&2016)>>5,(e&31)*2,0)}catch{}}function nt(n){return new Date(Number(n/BigInt(1e4)-BigInt(116444736e5)))}function ge(n,t){return n.getUint8(t)}function j(n,t){return n.getUint16(t,!0)}function B(n,t){return n.getUint32(t,!0)}function He(n,t){return Number(n.getBigUint64(t,!0))}function da(n,t,e){n.setUint32(t,e,!0)}function q(n){return new DataView(n.buffer)}Ln({Inflate:gs});const _a=Object.freeze(Object.defineProperty({__proto__:null,BlobReader:Tt,BlobWriter:sr,Data64URIReader:Fi,Data64URIWriter:Mi,ERR_BAD_FORMAT:ve,ERR_CENTRAL_DIRECTORY_NOT_FOUND:Ar,ERR_ENCRYPTED:Or,ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND:Sr,ERR_EOCDR_NOT_FOUND:Tr,ERR_EXTRAFIELD_ZIP64_NOT_FOUND:Cr,ERR_HTTP_RANGE:De,ERR_INVALID_PASSWORD:pt,ERR_INVALID_SIGNATURE:mt,ERR_ITERATOR_COMPLETED_TOO_SOON:nr,ERR_LOCAL_FILE_HEADER_NOT_FOUND:Rr,ERR_SPLIT_ZIP_FILE:ht,ERR_UNSUPPORTED_COMPRESSION:_t,ERR_UNSUPPORTED_ENCRYPTION:Ir,HttpRangeReader:Bi,HttpReader:fr,Reader:ue,SplitDataReader:At,SplitDataWriter:je,SplitZipReader:Yi,SplitZipWriter:Vi,TextReader:Ui,TextWriter:vi,Uint8ArrayReader:ji,Uint8ArrayWriter:qi,Writer:Et,ZipReader:Dr,ZipReaderStream:sa,configure:Ln,getMimeType:Ws,initReader:ur,initStream:Ce,initWriter:dr,readUint8Array:G,terminateWorkers:Ri},Symbol.toStringTag,{value:"Module"})),Te=_a;class ha{constructor(t,e){M(this,"_zipReader");M(this,"_entriesPromise");M(this,"_traceURL");this._traceURL=t,Te.configure({baseURL:self.location.href}),this._zipReader=new Te.ZipReader(new Te.HttpReader(ma(t),{mode:"cors",preventHeadRequest:!0}),{useWebWorkers:!1}),this._entriesPromise=this._zipReader.getEntries({onprogress:e}).then(r=>{const s=new Map;for(const i of r)s.set(i.filename,i);return s})}isLive(){return!1}traceURL(){return this._traceURL}async entryNames(){return[...(await this._entriesPromise).keys()]}async hasEntry(t){return(await this._entriesPromise).has(t)}async readText(t){var i;const r=(await this._entriesPromise).get(t);if(!r)return;const s=new Te.TextWriter;return await((i=r.getData)==null?void 0:i.call(r,s)),s.getData()}async readBlob(t){const r=(await this._entriesPromise).get(t);if(!r)return;const s=new Te.BlobWriter;return await r.getData(s),s.getData()}}class pa{constructor(t){M(this,"_entriesPromise");M(this,"_traceURL");this._traceURL=t,this._entriesPromise=fetch("/trace/file?path="+encodeURIComponent(t)).then(async e=>{const r=JSON.parse(await e.text()),s=new Map;for(const i of r.entries)s.set(i.name,i.path);return s})}isLive(){return!0}traceURL(){return this._traceURL}async entryNames(){return[...(await this._entriesPromise).keys()]}async hasEntry(t){return(await this._entriesPromise).has(t)}async readText(t){const e=await this._readEntry(t);return e==null?void 0:e.text()}async readBlob(t){const e=await this._readEntry(t);return(e==null?void 0:e.status)===200?await(e==null?void 0:e.blob()):void 0}async _readEntry(t){const r=(await this._entriesPromise).get(t);if(r)return fetch("/trace/file?path="+encodeURIComponent(r))}}function ma(n){let t=n.startsWith("http")||n.startsWith("blob")?n:`file?path=${encodeURIComponent(n)}`;return t.startsWith("https://www.dropbox.com/")&&(t="https://dl.dropboxusercontent.com/"+t.substring(24)),t}self.addEventListener("install",function(n){self.skipWaiting()});self.addEventListener("activate",function(n){n.waitUntil(self.clients.claim())});const wa=new URL(self.registration.scope).pathname,_e=new Map,qe=new Map;async function ba(n,t,e,r){var c;await Pr();let s=qe.get(e);s||(s=new Set,qe.set(e,s)),s.add(n);const i=new zr;try{const[l,h]=Ur(r,[.5,.4,.1]),d=n.endsWith("json")?new pa(n):new ha(n,l);await i.load(d,h)}catch(l){throw console.error(l),(c=l==null?void 0:l.message)!=null&&c.includes("Cannot find .trace file")&&await i.hasEntry("index.html")?new Error("Could not load trace. Did you upload a Playwright HTML report instead? Make sure to extract the archive first and then double-click the index.html file or put it on a web server."):t?new Error(`Could not load trace from ${t}. Make sure to upload a valid Playwright trace.`):new Error(`Could not load trace from ${n}. Make sure a valid Playwright Trace is accessible over this url.`)}const a=new Zr(i.storage(),l=>i.resourceForSha1(l));return _e.set(n,{traceModel:i,snapshotServer:a}),i}async function ga(n){if(n.request.url.startsWith("chrome-extension://"))return fetch(n.request);const t=n.request,e=await self.clients.get(n.clientId),r=self.registration.scope.startsWith("https://");if(t.url.startsWith(self.registration.scope)){const l=new URL(st(t.url)),h=l.pathname.substring(wa.length-1);if(h==="/ping")return await Pr(),new Response(null,{status:200});const d=l.searchParams.get("trace");if(h==="/contexts")try{const p=await ba(d,l.searchParams.get("traceFileName"),n.clientId,(_,g)=>{e.postMessage({method:"progress",params:{done:_,total:g}})});return new Response(JSON.stringify(p.contextEntries),{status:200,headers:{"Content-Type":"application/json"}})}catch(p){return new Response(JSON.stringify({error:p==null?void 0:p.message}),{status:500,headers:{"Content-Type":"application/json"}})}if(h.startsWith("/snapshotInfo/")){const{snapshotServer:p}=_e.get(d)||{};return p?p.serveSnapshotInfo(h,l.searchParams):new Response(null,{status:404})}if(h.startsWith("/snapshot/")){const{snapshotServer:p}=_e.get(d)||{};if(!p)return new Response(null,{status:404});const _=p.serveSnapshot(h,l.searchParams,l.href);return r&&_.headers.set("Content-Security-Policy","upgrade-insecure-requests"),_}if(h.startsWith("/sha1/")){const p=l.searchParams.has("download"),_=h.slice(6);for(const g of _e.values()){const y=await g.traceModel.resourceForSha1(_);if(y)return new Response(y,{status:200,headers:p?ya(g.traceModel,_):void 0})}return new Response(null,{status:404})}return fetch(n.request)}const s=st(e.url),i=new URL(s).searchParams.get("trace"),{snapshotServer:a}=_e.get(i)||{};if(!a)return new Response(null,{status:404});const c=[t.url];return r&&t.url.startsWith("https://")&&c.push(t.url.replace(/^https/,"http")),a.serveResource(c,t.method,s)}function ya(n,t){const e=n.attachmentForSha1(t);if(!e)return;const r=new Headers;return r.set("Content-Disposition",`attachment; filename="attachment"; filename*=UTF-8''${encodeURIComponent(e.name)}`),e.contentType&&r.set("Content-Type",e.contentType),r}async function Pr(){const n=await self.clients.matchAll(),t=new Set;for(const[e,r]of qe)n.find(s=>s.id===e)?r.forEach(s=>t.add(s)):qe.delete(e);for(const e of _e.keys())t.has(e)||_e.delete(e)}self.addEventListener("fetch",function(n){n.respondWith(ga(n))});
