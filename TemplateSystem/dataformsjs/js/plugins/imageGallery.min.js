!function(){"use strict";var e=["body.blur { filter: blur(3px); }","[data-image-gallery] { cursor: pointer; }",".image-gallery-overlay {","    position: fixed;","    top: 0;","    left: 0;","    right: 0;","    bottom: 0;","    background-color: rgba(255,255,255,.8);","    cursor: pointer;","    display: flex;","    justify-content: center;","    align-items: center;","    flex-direction: column;","}",".image-gallery-overlay .image-gallery-loading {","    font-weight: bold;","    padding: 10px 20px;","    background-color: rgba(255,255,255,.4);","    position: absolute;","}",".image-gallery-overlay img {","    max-width: 100%;","    max-height: 100%;","    flex-shrink: 0;","}",".image-gallery-overlay div {","    position: absolute;","    bottom: 0;","    left: 0;","    right: 0;","    z-index: 2;","    font-weight: bold;","    display: flex;","    justify-content: space-between;","    width: 100%;","}",".image-gallery-overlay div.no-title {","    justify-content: flex-end;","}",".image-gallery-overlay div span {","    padding: 10px 20px;","    background-color: rgba(255,255,255,.4);","}",".image-gallery-overlay .btn-previous,",".image-gallery-overlay .btn-next {","    display: block;","    position: absolute;","    height: 40px;","    width: 40px;","    opacity: .7;","    background-repeat: no-repeat;","    background-position: center;","    padding: 0;","    margin: 15px;","    background-color: rgba(0,0,0,.5);","    border-radius: 50%;","    transition: all ease-in-out .2s;","}",'.image-gallery-overlay .btn-previous { left: 0; background-position-x: 12px; background-image: url("data:image/svg+xml;base64,'+btoa('<svg width="13" height="22" xmlns="http://www.w3.org/2000/svg"><path d="M9 .6L.7 9a2 2 0 00-.6 1.5c0 .5.2 1.1.6 1.5L9 20.6a2 2 0 002.8-2.8l-7.2-7.2L12 3.4A2 2 0 009.1.6z" fill="#fff" fill-rule="evenodd"/></svg>')+'"); }','.image-gallery-overlay .btn-next { right: 0; background-position-x: 15px; background-image: url("data:image/svg+xml;base64,'+btoa('<svg width="13" height="22" xmlns="http://www.w3.org/2000/svg"><path d="M3.4.6L12 9c.4.4.6 1 .6 1.5a2 2 0 01-.6 1.5l-8.5 8.5a2 2 0 01-2.8-2.8l7.2-7.2L.6 3.4A2 2 0 013.4.6z" fill="#fff" fill-rule="evenodd"/></svg>')+'"); }',".image-gallery-overlay.mobile .btn-previous,",".image-gallery-overlay.mobile .btn-next,",".image-gallery-overlay.keyboard .btn-previous,",".image-gallery-overlay.keyboard .btn-next {","    display: none;","}",".image-gallery-overlay .btn-previous:hover,",".image-gallery-overlay .btn-next:hover {","    opacity: .5;","}","@media (min-width: 1300px) {","    .image-gallery-overlay div {","        left: calc((100% - 1300px) /2);","        right: auto;","        max-width: 1300px;","    }","}"].join("\n"),t=(-1!==navigator.userAgent.indexOf("Trident/")&&(e+=["@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {","    .image-gallery-overlay .image-gallery-loading,","    .image-gallery-overlay .btn-previous,","    .image-gallery-overlay .btn-next { margin-top: calc((100vh /2) - 35px); }","}"].join("\n")),!1);try{var a=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(e){}var o={images:[],imageSrcAttr:"data-image-gallery",imageSrcAttrAvif:"data-image-avif",imageSrcAttrWebP:"data-image-webp",overlay:null,overlayImg:null,overlayTitle:null,overlayIndex:null,overlayLoading:null,overlayBackButton:null,overlayFowardButton:null,imageCount:0,imageIndex:-1,touchStartX:0,touchPinchToZoom:!1,touchPinchEndTime:null,loadedImages:[],loadingText:"Loading...",loadingTimeout:2e3,loadingTimeoutId:null,isMobile:-1<(a=window.navigator.userAgent.toLowerCase()).indexOf("android")||-1<a.indexOf("iphone")||-1<a.indexOf("ipad"),startedFromKeyboard:!1,supportsAvif:null,supportsWebp:null,onRendered:function(e){var t;0<this.images.length||(e=void 0===e?document:e,this.images=e.querySelectorAll("["+o.imageSrcAttr+"]"),this.imageCount=this.images.length,t=0,Array.prototype.forEach.call(this.images,function(a){a.addEventListener("click",function(){var e=parseInt(a.getAttribute("data-index"),10);o.checkSupportedFormats(e)}),a.addEventListener("keydown",function(e){var t;" "!==e.key&&"Spacebar"!==e.key||(null===o.overlay&&(o.startedFromKeyboard=!0,t=parseInt(a.getAttribute("data-index"),10),o.checkSupportedFormats(t)),e.preventDefault())}),a.setAttribute("data-index",t),t++}),0!==this.imageCount&&document.addEventListener("keydown",o.handleKeyDown))},onRouteUnload:function(){null!==this.overlay&&this.hideOverlay(),this.images=[],document.removeEventListener("keydown",o.handleKeyDown)},handleKeyDown:function(e){if(o.overlay)switch(e.key){case"ArrowLeft":case"Left":o.changeImage("left");break;case"ArrowRight":case"Right":o.changeImage("right");break;case"Escape":case"Esc":o.hideOverlay()}},checkSupportedFormats:function(e){var t,a;function i(){null!==o.supportsAvif&&null!==o.supportsWebp&&o.showOverlay(e)}null===this.supportsAvif||null===this.supportsWebp?((t=new Image).onload=function(){o.supportsAvif=1===t.width&&1===t.height,i()},t.onerror=function(){o.supportsAvif=!1,i()},t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABoAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACJtZGF0EgAKCBgABogQEAwgMgwYAAAAUAAAALASmpg=",(a=new Image).onload=function(){o.supportsWebp=1===a.width&&1===a.height,i()},a.onerror=function(){o.supportsWebp=!1,i()},a.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"):this.showOverlay(e)},showOverlay:function(e){var t=this.getImageSource(e),a=this.images[e].getAttribute("title"),i=(null===a&&(a=this.images[e].getAttribute("alt")),this.overlay=document.createElement("div"),this.overlay.className="image-gallery-overlay"+(this.isMobile?" mobile":"")+(this.startedFromKeyboard?" keyboard":""),this.overlayLoading=document.createElement("span"),this.overlayLoading.className="image-gallery-loading",this.overlayLoading.textContent=this.loadingText,this.overlayLoading.setAttribute("hidden",""),this.overlay.appendChild(this.overlayLoading),this.overlayBackButton=document.createElement("span"),this.overlayBackButton.className="btn-previous",this.overlayBackButton.setAttribute("role","button"),this.overlayBackButton.onclick=function(){o.changeImage("left")},this.overlayFowardButton=document.createElement("span"),this.overlayFowardButton.className="btn-next",this.overlayFowardButton.setAttribute("role","button"),this.overlayFowardButton.onclick=function(){o.changeImage("right")},this.overlay.appendChild(this.overlayBackButton),this.overlay.appendChild(this.overlayFowardButton),this.overlayImg=document.createElement("img"),this.overlayImg.addEventListener("load",function(){-1===o.loadedImages.indexOf(t)&&o.loadedImages.push(t),o.clearLoadingTimer(),null!==o.overlayLoading&&o.overlayLoading.setAttribute("hidden",""),o.preloadNextImages()}),this.overlayImg.src=t,this.imageIndex=e,this.overlay.appendChild(this.overlayImg),document.createElement("div"));this.overlayTitle=document.createElement("span"),this.overlayTitle.textContent=a,this.overlayTitle.style.display=a?"":"none",i.className=a?"":"no-title",i.appendChild(this.overlayTitle),this.overlayIndex=document.createElement("span"),this.overlayIndex.textContent=e+1+"/"+this.imageCount,i.appendChild(this.overlayIndex),this.overlay.appendChild(i),this.addOverlayEvents(),document.documentElement.appendChild(this.overlay),document.querySelector("body").classList.add("blur"),this.startLoadingTimer()},startLoadingTimer:function(){this.clearLoadingTimer(),this.loadingTimeoutId=window.setTimeout(function(){(o.loadingTimeoutId=null)!==o.overlayLoading&&o.overlayLoading.removeAttribute("hidden")},this.loadingTimeout)},clearLoadingTimer:function(){null!==this.loadingTimeoutId&&(window.clearTimeout(this.loadingTimeoutId),this.loadingTimeoutId=null)},addOverlayEvents:function(){this.overlay.onclick=function(e){if("ontouchstart"in window){var t=window.innerHeight,a=t/4;if(e.clientY>=a&&e.clientY<=t-a)return}e.target!==o.overlayBackButton&&e.target!==o.overlayFowardButton&&o.hideOverlay()},this.overlay.addEventListener("touchstart",function(e){o.touchStartX=e.changedTouches[0].screenX,2===e.touches.length&&(o.touchPinchToZoom=!0)},!!t&&{passive:!0}),this.overlay.addEventListener("touchend",function(e){if(o.touchPinchToZoom)return o.touchPinchEndTime=new Date,void(o.touchPinchToZoom=!1);o.touchPinchEndTime&&(new Date).getTime()-o.touchPinchEndTime.getTime()<=200||((e=e.changedTouches[0].screenX)>o.touchStartX?o.changeImage("left"):e<o.touchStartX&&o.changeImage("right"))})},hideOverlay:function(){this.clearLoadingTimer(),this.overlay.parentNode.removeChild(this.overlay),this.overlayBackButton=null,this.overlayFowardButton=null,this.overlayLoading=null,this.overlayIndex=null,this.overlayTitle=null,this.overlayImg=null,this.overlay=null,this.startedFromKeyboard=!1,document.querySelector("body").classList.remove("blur")},getImageSource:function(e){var e=this.images[e],t=e.getAttribute(this.imageSrcAttrAvif);return t&&this.supportsAvif||(t=e.getAttribute(this.imageSrcAttrWebP))&&this.supportsWebp?t:e.getAttribute(o.imageSrcAttr)},changeImage:function(e){this.imageIndex="right"===e?this.imageIndex===this.imageCount-1?0:this.imageIndex+1:0===this.imageIndex?this.imageCount-1:this.imageIndex-1;e=this.images[this.imageIndex].getAttribute("title");null===e&&(e=this.images[this.imageIndex].getAttribute("alt")),this.overlayImg.src="",this.overlayImg.src=this.getImageSource(this.imageIndex),this.overlayTitle.textContent=e,this.overlayTitle.style.display=e?"":"none",this.overlayTitle.parentNode.className=e?"":"no-title",this.overlayIndex.textContent=this.imageIndex+1+"/"+this.imageCount,this.startLoadingTimer()},preloadNextImages:function(){var e,t,a=this.imageIndex-1,a=((a=-1===a?this.imageCount-1:a)===this.imageIndex||(e=this.getImageSource(a))&&-1===this.loadedImages.indexOf(e)&&((a=new Image).onload=function(){o.loadedImages.push(e)},a.src=e),this.imageIndex+1);(a=a===this.imageCount?0:a)===this.imageIndex||(t=this.getImageSource(a))&&-1===this.loadedImages.indexOf(t)&&((a=new Image).onload=function(){o.loadedImages.push(t)},a.src=t)}};app.addPlugin("imageGallery",o).loadCss("image-gallery-css",e)}();