import{showErrorAlert}from"./utils.min.js";const shadowTmpl=document.createElement("template");shadowTmpl.innerHTML="\n    <style> :host { display:none; } </style>\n    <slot></slot>\n";export class WebComponentService extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"}).appendChild(shadowTmpl.content.cloneNode(!0)),this.runService=this.runService.bind(this)}connectedCallback(){if(void 0!==this.onLoad)document.addEventListener("app:routeChanged",this.runService),document.addEventListener("app:contentReady",this.runService),this.onLoad(document);else{const e=""===this.constructor.name?"anonymous":this.constructor.name;showErrorAlert(`Error - Unable to use service. Element <${this.tagName.toLowerCase()}> class [${e}] is missing function [onLoad()].`)}}disconnectedCallback(){document.removeEventListener("app:routeChanged",this.runService),document.removeEventListener("app:contentReady",this.runService),"function"==typeof this.onEnd&&this.onEnd()}runService(e){const t="URL-ROUTER"===e.target.tagName&&null!==e.target.currentRoute?e.target.currentRoute:e.target;this.onLoad(t)}}